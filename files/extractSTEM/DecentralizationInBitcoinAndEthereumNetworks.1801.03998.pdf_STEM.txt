


















































decentr in bitcoin and ethereum 
network 

adem efe gencer1,2, soumya basu1,2, ittay eyal1,3, robbert van renesse1,2, 
and emin gün sirer1,2 

1 initi for cryptocurr and contract (ic3) 
2 comput scienc department, cornel univers 

3 electr engin department, technion 

abstract. blockchain-bas cryptocurr have demonstr how 
to secur implement tradit central systems, such a curren- 
cies, in a decentr fashion. however, there have be few measure- 
ment studi on the level of decentr they achiev in practice. 
We present a measur studi on variou decentr metric of 
two of the lead cryptocurr with the larg market capitaliza- 
tion and user base, bitcoin and ethereum. We investig the extent of 
decentr by measur the network resourc of node and the 
interconnect among them, the protocol requir affect the op- 
erat of nodes, and the robust of the two system against attacks. 
In particular, we adapt exist internet measur techniqu and 
use the falcon relay network a a novel measur tool to obtain 
our data. We discov that neither bitcoin nor ethereum have strictli 
good properti than the other. We also provid concret suggest 
for improv both systems. 

1 introduct 

cryptocurr be emerg a a new asset class, with a market capit 
of about $150b a of sept 2017 [15], a grow ecosystem, and a divers commu- 
nity. the most promin platform that account for over 70% of thi market be 
bitcoin [57] and ethereum [28, 70]. the underli technology, the blockchain, 
achiev consensu in a decentralized, open system and enabl innov in 
industri that convent reli upon trust authorities. some exampl of 
such servic includ land record manag [3], domain name registr [51], 
and vote [55]. the key featur that empow such servic and make these 
platform interest be decentralization. without it, such servic be technolog- 
ical easi to construct but requir trust in a central administrator. 

decentr be a properti regard the fragment of control over the 
protocol. In the bitcoin and ethereum protocols, user submit transact for 
miner to sequenc into blocks. better decentr of miner mean high 
resist against censorship of individu transactions. for communication, bit- 
coin and ethereum also have a peer-to-p network for dissemin block and 
transact information. both bitcoin and ethereum also contain full nodes, 

ar 
X 

iv 
:1 

80 
1. 

03 
99 

8v 
1 

[ 
c 

.C 
R 

] 
1 

1 
Ja 

n 
20 

18 



which serv two critic roles: (1) to relay block and transact to miner 
(2) and to answer queri for end user about the state of the blockchain. un- 
derstand the network properti of full node be crucial for protocol design and 
analysi of each network’ resili to attacks. ongo research explor way 
to make the bitcoin and ethereum network more decentr without mea- 
surement on the underli network. hence, debat and decis about the 
underli network be often base on assumpt rather than measurement. 

In thi paper, we present a comprehens measur studi on decentral- 
izat metric in these oper system and shed light on whether or not 
exist assumpt be satisfi in practice. We adapt prior internet measure- 
ment techniqu for bitcoin and ethereum and use novel approach to obtain 
applic layer data. our main data sourc be (1) direct measur of 
these network from multipl vantag points, (2) a bitcoin relay network call 
falcon that we deploy and oper for a year, and (3) blockchain histori 
of bitcoin and ethereum. our studi present find regard the network 
properties, impact of protocol requirements, security, and client interactions. 

thi paper make three contributions. first, it provid new tool and tech- 
niqu for measur blockchain-bas cryptocurr networks. the key tool 
introduc here be the falcon relay network that we built to serv a a backbon 
for ferri blocks. thi network be deploy for bitcoin across five continents, 
provid a uniqu vantag point on prune blocks. second, we perform a com- 
par studi of decentr metric in bitcoin and ethereum. our key 
find are: (1) the bitcoin network can increas the bandwidth requir 
for node by a factor of 1.7 and keep the same level of decentr a 2016, 
(2) the bitcoin network be geograph more cluster than ethereum, with 
mani node like resid in datacenters. (3) ethereum have low mine power 
util than bitcoin and would benefit from a relay network, and (4) small 
miner experi more volatil in block reward in bitcoin than ethereum. 

2 bitcoin and ethereum 

bitcoin and ethereum use nakamoto consensu [5–7, 57, 38] to regul transac- 
tion serial in their blockchains. while architectur veri similar, these 
system differ significantli in term of their api, abstractions, and wire protocol. 

2.1 the bitcoin protocol 

bitcoin be a protocol that sequenc transact into group call blocks. the 
protocol target a block product interv of 10 minut with a maximum size 
of 1 mb. At the time of our measurements, the last 100 block have a 0.99 MB 
median block size and a 9.8 minut mean interval. the wire protocol implement 
a peer-to-p network base on flood block and transact announcements. 

the peer to peer network be form through point to point links. To form a 
link, client establish a tcp connect and perform a protocol-level three-way 
handshake. the protocol-level handshak exchang the state of each client, such 
a the height of the blockchain and a version string associ with the softwar 



measur network num. node date 

bandwidth (all) 
latenc (btc ipv4) 

(singl beacon) 

btc 
ipv4 3441 jan 11–16;jan 30–mar 16 
ipv6 515 jan 13–14;apr 20–25 
tor 127 jan 13;apr 23–25 

eth ipv4 285 mar 27–apr 25 
peer-to-p latenc 
(mult. vantag pts.) 

btc ipv4 3390 (5.7m edges) jan 10–15; jan 30–mar 01 
eth ipv4 4302 (9.3m edges) mar 01–apr 11 

latenc (singl beacon) btc ipv6 845 jan 13–14; feb 03–apr 25 
prune block btc ipv4 5977 may 5 2016 – apr 29 

tabl 1: timelin of measurements. all date be in 2017 unless otherwis noted. 

be run. when a client discov or receiv a new block, it flood the network 
with the hash of the block. If a neighbor client need the block, it request the 
block base on the hash value. there be mani differ block formats, such a 
compact [17] and merkl [44] blocks, but bm focu on retriev of full blocks. 

2.2 the ethereum protocol 

the ethereum protocol [28] focu on provid a platform to facilit build 
decentr applic on it blockchain. To sequenc transactions, ethereum 
adopt a design inspir by nakamoto consensu and the ghost protocol [64]. 

ethereum adopt a chain select rule to har the residu mine power 
in prune block for improv security. the protocol includ such blocks, call 
uncles, in it blockchain and reward the correspond miner [70]. ethereum 
target a block interv between 10 to 20 second [41]. the block size be indirectli 
determin by an execut fee, call gas, that fluctuat over time. At the time 
of our measurements, the last 100 block be gener with a 2.9 KB median 
block size and a 16.3 second averag interval. 

fig. 1: the measur infrastructur 
be built on 18 global distribut nodes. 

ethereum employ a udp-bas 
node discoveri mechan inspir by 
kademlia [54], but the rest of the 
p2p commun be over tcp. 
unlik bitcoin, messag between 
node be encrypt and authenti- 
cated. ethereum’ wire protocol be 
poorli documented, so we reli on the 
client implement [42, 61, 19, 60] 
and ethereum wiki page [26, 25, 29, 
30, 27] for information. 

In ethereum, client request block 
by the correspond block hash. older client request blocks, which consist of 
a bodi and header, while newer client request each piec separately. the mea- 
surement system in thi paper focu on retriev of full block and block bodies. 



3 measur infrastructur 

blockchain-bas cryptocurr oper on global peer-to-p network that 
span multipl administr domains. measur of such network concern 
the explor of the relationship between peers, the capabl of individu 
peers, and the properti of the system a a whole–e.g. it secur and fair- 
ness. To character bitcoin and ethereum, we deploy blockchain measure- 
ment system (bm ), a measur system than ran experi of vari 
duration–from a few day up to 12 months. 
network properties. bm us multipl vantag point in order to gain a com- 
prehens view of the cryptocurr networks. To captur the evolut of 
these networks, bm have be continu collect data regard the pro- 
vision bandwidth of peer and peer-to-p latency. bm first connect to a 
peer, collect measurements, and then disconnect befor proceed to the next 
peer. these measur target (1) bitcoin node connect over ipv4, ipv6, 
and tor [23] and (2) ethereum node connect over ipv4. As of may 2017, 
ethereum do not have ani tor node mainli becaus tor be exclus tcp, 
wherea ethereum node discoveri be udp-based. moreover, thi studi exclud 
ethereum’ ipv6 network becaus bm be unabl to discov enough node to 
reach gener conclusions. tabl 1 show the timelin of the data collect 
for each network and the number of node measur in each measurement. 

To estim the peer-to-p latency, bm us multipl vantag point geo- 
graphic distribut across the world. figur 1 show the geograph distribu- 
tion of the measur infrastructure. 15 out of 18 node resid in planetlab’ 
global research network [14] and the remain three node be part of cornell’ 
academ network, locat in ithaca, ny. 

To measur the provis bandwidth of node in bitcoin and ethereum, 
bm use node with extens resources. In particular, measur the maxi- 
mum bandwidth that bitcoin and ethereum node have access to requir node 
with (1) high download capac to ensur that the bottleneck be not in the 
measur apparatus, and (2) suffici disk capac to store detail re- 
sults. sinc these machin need access to order of magnitud high bandwidth 
capac than what be achiev on share infrastructure, such a planetlab 
nodes, some bm data be collect use dedicated, well-provis beacon 
node locat at cornel university. 

finally, bm need to pick a sampl of node from the bitcoin and ethereum 
networks. As a sample, bm us a list contain node from bitcoin and 
ethereum node crawl site [1, 31], and a local deploy ethereum supernod 
configur with a high peer limit. interpret in thi paper assum that in- 
ferenc make from the reachabl public node be repres of their entir 
networks. In reality, these network contain node that be not visibl to the 
public, e.g. they be behind a nat or a firewall. one such class of node be part 
of mine . while much of the mine infrastructur be private, prior measur 
work show that mine oper often have gateway node to commun 
with the peer-to-p network [56]. the properti of intern mine pool node 
be orthogon to the focu of thi paper. 



blockchain information. A naiv approach to obtain inform about the 
blockchain would be to simpli run a bitcoin and ethereum node. however, 
thi preclud inform that cannot be obtain through the respect wire 
protocols. mani import decentr metric center around the analysi 
of block that be not part of the main blockchain. In ethereum, mani of these 
block becom uncl which can simpli be request through the wire protocol. 

In bitcoin, however, a block that be not part of the main blockchain simpli 
becom pruned. prune block in bitcoin have no effect on the state of the 
system, they be delet by client without impact correctness. thus, it be 
crucial to connect directli to miner to captur prune blocks. 

A critic compon of bm to observ prune block be the falcon relay 
network, which relay block between bitcoin miners. the falcon relay net- 
work us cut-through rout to quickli dissemin block worldwide, which 
incentiv miner to connect to falcon. indeed, falcon be directli connect to 
at least 36.4% of the entir hashpow in bitcoin. sinc there be just one other 
oper relay network for bitcoin [18, 16], falcon have observ block that 
have not be see on other well-connect node [8]. 

4 measur 

In thi section, we present the measur take by bms. In each measure- 
ment, we describ the methodology, follow by the result of our analysis. As 
with ani measur studi of a large-scale, uninstrument artifact, mea- 
surement be not perfect; we conclud each section by address some potenti 
sourc of error and their mitigation. 

4.1 provis bandwidth 

provis bandwidth be an estim on a node’ transmiss capac charac- 
teriz how much bandwidth the node have to commun with the rest of the 
cryptocurr network. greater provis bandwidth help miner to propa- 
gate/collect block to/from the network faster. thus, it becom more difficult 
for a malici miner to situat themselv in the network to achiev the rush 
properti [35] and attack the blockchain. knowledg of provis bandwidth 
also aid in set protocol parameters, such a the block size and frequency. 
methodology. bm measur the provis bandwidth of each peer by re- 
quest a larg amount of data from each peer and see how fast the peer 
can stream the data to bms’ measur nodes. bm do thi by ask for 
block that be first see over a year ago – similar to how a stale node ask 
for block to sync state. each request ask for the same set of block in bitcoin 
and block or the correspond bodi in ethereum. next, bm divid the 
time into epoch and record the number of byte receiv dure each epoch. 
thi process continu until either bm receiv all data or a predefin timeout 
of 30 second be reached. A long timeout help bm elimin effect from tcp 
slow start and other initi nois a well a identifi and elimin spuriou 
spike in throughput caus by buffer in the kernel by bms. finally, bm 



process the collect data to determin the provis bandwidth. To do so, 
first, it identifi the independ data stream by combin success epoch 
contain activ data transfers. then, it elimin stream that be shorter 
than 500 millisecond to mitig initi artifact such a tcp slow start. 
bm then output the maximum observ throughput among the remain 
distinct continu stream a the provis bandwidth of the remot peer. 

the experi in thi paper be run on server with 1 gbp link at cornel 
university. thi have not chang from 2016 to 2017, which allow u to make 
comparison to a previou studi in 2016 [20]. 

bitcoin eth. 
ipv4 ipv6 tor ipv4 

[mbps] [mbps] [mbps] [mbps] 

10% 5.7 11.0 2.1 3.4 
33% 23.3 45.2 3.1 11.2 
50% 56.1 78.2 4.1 29.4 
67% 91.1 94.3 5.6 68.3 
90% 177.0 207.9 8.1 144.4 
avg. 73.1 86.5 4.7 55.0 

std. dev. 68.4 66.9 2.4 58.8 

(a) provis bandwidth statistics. (b) cdf 

fig. 2: statist on distribut of provis bandwidth and the cdf. 

results. tabl 2a summar per-nod bandwidth result that bm have col- 
lected. We see that bitcoin node in both ipv4 and ipv6 network have consis- 
tentli high bandwidth compar to ethereum ipv4 nodes. In particular, the 
median bitcoin ipv4 and ipv6 node have about 1.9⇥ and 2.7⇥ the bandwidth of 
the typic ethereum ipv4 node. In contrast, bitcoin tor node have an order of 
magnitud low bandwidth compar to directli connect nodes, though they 
be not unus – e.g. 90% have more than 2 mbit/s. ongo research explor 
altern to the tor network that also provid effici commun [50]. 

figur 2b show the cumul distribut of the bandwidth measurements. 
steep increas in the bitcoin ipv4/ipv6 curv at around 10 mbp and 100 
mbp region repres typic bandwidth capac of a home user, and a typ- 
ical amazon ec2 bitcoin instance. for ethereum, we observ a similar accu- 
mulat around 10 mbp region, but the bandwidth be more evenli distribut 
over the remain nodes. As the long tail distribut and high standard 
deviat indicates, bandwidth of bitcoin ipv4/ipv6 node be spread out over 
a wider rang of valu compar to ethereum nodes. while the most well pro- 
vision bitcoin node have around 300 mbp of spare bandwidth, the high 
ethereum node capac that bm have observ be limit to 250 mbps. 

one of the most interest discoveri of thi studi be that the bitcoin net- 
work have improv tremend in term of it provis bandwidth. the re- 
sult show that bitcoin ipv4 nodes, which use to be connect to the network 
with a median bandwidth of 33 mbit/ in 2016 [20], have a median bandwidth 



of 56 mbit/s, a of februari 2017. In other words, the provis bandwidth of 
a typic full node be now 1.7⇥ of what it be in 2016. 

critic system parameters, such a the maximum block size and block fre- 
quency, can be increas when the provis bandwidth increases. the increas 
in provis bandwidth suggest that the block size can be increas by a fac- 
tor of 1.7 without increas central beyond it de facto level in 2016. 
caveats. As with everi measur techniqu in the real world, our result 
abov be subject to experiment limit and expect errors. the accu- 
raci of the measur may drop under certain circumstances, includ the 
case where: (1) the network bottleneck lie on the side of the measur 
beacon rather than the remot peer, (2) network traffic on the side of bm 
interfer with the collect results, (3) the remot peer intent shape 
the traffic to select limit the bandwidth avail to bms, for instanc via 
bandwidth throttling, and (4) differ steadi state bandwidth between bitcoin 
and ethereum, skew the number for one system over anoth the setup of 
our bandwidth infrastructur help minim potenti inaccuraci due to the 
first two issues. moreover, analysi of popular bitcoin [5] and ethereum client 
implement [42, 61, 19, 60] show that the third case be not support by thi 
softwar and would requir additional, potenti non-trivial, work to set up. To 
verifi the impact of the last issue, we ran an ethereum and bitcoin client and 
saw that their bandwidth consumpt differ by 0.2 mbps, which introduc 
about a 1% error on our measur above. 

In addit to our analysi above, we also expect to see certain artifact in our 
data. As note above, we see cluster of node around 10 mbp and 100 mbps, 
which be typic bandwidth capac of home and ec2 users, respectively. 

4.2 network structur 

the structur of the peer-to-p network impact the secur and perform 
for cryptocurrencies. A geograph cluster network can quickli propag 
a new block to mani other nodes. thi make it more difficult for a malici 
miner to propag conflict blocks/transact quicker than honest nodes. 
however, a less cluster network may mean that full node be be run by a 
wider varieti of user which be also good for decentralization. 
methodology. sinc it be not possibl to obtain direct measur between 
peer we do not control, we use the state of the art estim techniqu to 
establish bound and gain insight into network structure. 

singl beacon latency. We first collect direct icmp ping measur from 
bm node to all peer in the network. We report the minimum observ ping 
latency, a it provid a physic bound on the distanc to the bm beacon. 

peer-to-p latency. measur the peer-to-p latenc requir access to 
the end points. In both bitcoin and ethereum, peer do not reveal their neigh- 
bors. hide the network structur boost privaci and secur [45, 56], but also 
make it harder to infer properti about the network. bm provid latenc 
estim for a superset of the actual link between know peers. We do not 
normal for the slightli differ network sizes, 3390 for bitcoin and 4302 for 



ethereum, a our sampl from both network be veri similar. sinc measur 
peer-to-p latenc directli be not feasible, we establish bound from observ 
latenc from multipl beacons, use techniqu from prior literatur [37]. bm 
start with the measur take from a singl beacon. then, it us the tri- 
angl inequ to estim the upper and low bound for the latenc between 
peers. repeat thi process from other vantag point yield a set of bound 
for each pair of peers. finally, bm determin a rang for latenc estim be- 
tween each peer by pick the maximum low bound and the minimum upper 
bound. the paper also present the averag of the low bound and upper bound 
latenc between peers. In thi study, bm includ node that do not support 
the dao fork [10] in it measur for ethereum. 

geograph distance. bm take the minimum of repeat latenc measure- 
ment to elimin transient network effect and captur the geograph distanc 
between two node [43, 13, 69]. bm also us IP geoloc data to calcul 
distanc between peer node a an addit valid on our results. To cal- 
culat distances, bm appli the haversin formula [63] use the coordin 
valu gather from an ip-bas geoloc servic [46]. 

singl beacon peer-to-p 
bitcoin bitcoin eth. 

ipv4 ipv6 ipv4 ipv4 
[ms] [ms] [ms] [ms] 

10% 29 40 48 92 
33% 78 80 79 125 
50% 89 95 109 152 
67% 98 95 152 200 
90% 201 165 286 276 
avg. 97 103 135 171 

std. dev. 59 62 88 76 

tabl 2: min singl beacon latenc ob- 
serv and p2p latenc estimates. 

results. our measur indic 
consider differ between p2p 
latenc of bitcoin and ethereum 
ipv4 networks, summar in tabl 2 
and pdf graph in figur 3. 

We find that bitcoin have mani 
more node that be closer geograph- 
ical than ethereum. figur 3 show 
that ethereum’ most like laten- 
cie be center around 120ms, while 
bitcoin node tend to be cluster 
around 50ms. onli 13% of ethereum 
latenc be under 100ms, while bit- 
coin have a surprisingli high 46%. ad- 
ditionally, the estim peer-to-p 
latenc between ethereum node be 26.7% high than bitcoin on average. thi 
geograph proxim between nodes, along with the observ that bitcoin have 
mani node with 100 mbp of provis bandwidth (see section 4.1), seem to 
indic that mani bitcoin node be run in datacenters. 56% of bitcoin’ node 
and 28% of ethereum’ node belong to an autonom system that provid 
dedic host services, a differ signific at the 1% signific level. 

inde ethereum node be not accumul in a singl geograph region, 
but be more evenli distribut around the world. figur 3c show the cdf of 
distanc between peer to peer node base on IP geoloc information. the 
result corrobor our find base on network latenc measur and 
show that ethereum node be geograph further apart than bitcoin. As 
addit evidence, when we use geoloc on the p2p distanc and plot the 
cdf in figur 3c, we see that ethereum node be further apart than bitcoin. 



(a) (b) (c) 

fig. 3: the histogram of p2p latenc in bitcoin (fig 3a) and ethereum (fig 3b), 
a well a the cdf of geograph distanc (fig 3c). 

saniti checks. the first two column of tabl 2 present singl beacon latenc 
in bitcoin ipv4/ipv6 networks. the result indic that both the median and 
the averag latenc to ipv4 node be small than ipv6 nodes. As there be 
few ipv6 node than ipv4 nodes, we expect thi result sinc ipv4 node be 
more like to be closer to our beacons. 

while there have be a larg bodi of work show the preval of triangl 
inequ violat in the internet [52, 67, 12], there be sever reason bms’ 
measur be not affect significantly. first, such violat be show 
to occur less than 5% of network snapshot [52]. sinc we take the minimum 
latenc observ from a beacon, triangl inequ violat will onli occur in 
our dataset less than 1% of the time [52]. tiv be also significantli less preval 
when deal with latenc less than 300 ms, which includ almost our entir 
dataset [67]. To ensur that the abov result hold for our dataset a well, we 
use a geoloc servic a ground truth to verifi our results. 

one other limit in our studi be that it be imposs to collect measure- 
ment use icmp ping from node that block icmp traffic and from tor node 
that onli commun over tcp. 

4.3 distribut of mine power 

mine on cryptocurr network be a complex process that typic requir 
larg comput power. with the current mine difficulti of bitcoin and 
ethereum, use commod hardwar to gener block be not feasibl [21] 
which central the mine process somewhat. however, a long a there be 
mani differ entiti mining, the system be still decentralized. We compar the 
decentr of the mine process between bitcoin and ethereum. 
methodology. To identifi the power of miner in bitcoin and ethereum, we 
examin their weekli distribut over the last 10 month start on juli 15, 
2016. our mine power estim be base on the ratio of main chain block 
gener by distinct entities. hence, prune block in bitcoin and uncl in 
ethereum do not affect these estimations. In both networks, miner voluntarili 
disclos their ident a part of each block they mine. We gather thi data 
from a public api for bitcoin [9] and a blockchain explor for ethereum [32]. 
In bitcoin, 1.8% of the block be unidentified, which we treat a if they 
be gener by distinct individu miners. finally, we manual process 
ident to detect and merg duplicates. thi includ pool oper by the 
same administr [47] and multipl ident repres the same pool, which 



5 

15 

25 ethereum 
Ra 

tio 
o 

f M 
in 

in 
g 

Po 
w 

er 
(% 

) 

5 

15 

25 

1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 

bitcoin 

miner index (descend mine power) 

fig. 4: distribut of mine power in bitcoin and ethereum networks. bar 
indic observ standard deviat from the average. 

we identifi by look for the same pool name with a correspond tag, e.g. 
’dwarfpool1’ and ’dwarfpool2’. We do not distinguish between solo miner and 
mine pools, becaus it would be mislead to do so. some claim that mine 
pool provid a modicum of decentralization, albeit invisible, becaus they be 
compris of multipl solo miner who can exit the pool if the pool oper 
misbehaves. while thi be true, it requir detect of misbehaviors, which be 
not alway possible. but in ani case, our studi captur a histor account 
of the mine power distribut a it take place, and at the time a block be 
commit to the chain, the pool constitu be plaintiv cooper a 
part of the same pool. 

results. for each week of the analysi period, we calcul the correspond 
mine power of entiti and rank each miner accordingly. figur 4 show the 
top 20 weekli mine power distribut in the ethereum and bitcoin networks. 
each group of bar repres a chronolog order collect of weekli 
mine power ratios, defin a the fraction of block contribut by a miner. 

figur 4 illustr that, in bitcoin, the weekli mine power of a singl entiti 
have never exceed 21% of the overal power. In contrast, the top ethereum miner 
have never have less than 21% of the mine power. moreover, the top four bitcoin 
miner have more than 53% of the averag mine power. On average, 61% of 
the weekli power be share by onli three ethereum miners. these observ 
suggest a slightli more central mine process in ethereum. 

although miner do chang rank over the observ period, each spot 
be onli contest by a few miners. In particular, onli two bitcoin and three 
ethereum miner ever held the top rank. the same mine pool have be at 
the top rank for 29% of the time in bitcoin and 14% of the time in ethereum. 
over 50% of the mine power have exclus be share by eight miner in 
bitcoin and five miner in ethereum throughout the observ period. even 90% 
of the mine power seem to be control by onli 16 miner in bitcoin and 
onli 11 miner in ethereum. hence, both platform reli heavili on veri few 
distinct mine entiti to maintain the blockchain. indeed, we see in figur 5 
that the mine power trend can be fit a exponenti distribut with curv 



0.21e�0.19x and 0.35e�0.30x in bitcoin and ethereum, respectively. these curv 
yield a coeffici of determin valu of 0.99. 

these result show that a byzantin quorum system [53] of size 20 could 
achiev good decentr than proof-of-work mine at a much low re- 
sourc cost. thi show that further research be necessari to creat a permission- 
less consensu protocol without such a high degre of centralization. 

5 

15 

25 

1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 

Ra 
tio 

o 
f 

M 
in 

in 
g 

Po 
w 

er 
(% 

) 

miner index (descend mine power) 

ethereum 
bitcoin 

fig. 5: exponenti trendlin for the av- 
erag distribut of mine power. 

saniti checks. similar to other 
work in the literatur [58, 68], we 
assum that miner accur self- 
identifi themselves. A miner that con- 
tribut a signific portion of the 
hash power to the cryptocurr can 
exert some amount of influenc over 
protocol changes. thus, it be like 
that miner will want to claim block 
that they gener a their own. 
while strong miner gain polit clout and attract more members, get 
too larg rais alarm among the commun about centralization. thus, such 
miner may conceal or obfusc thi inform to appear less power – e.g. 
by gener multipl identities. for instance, two major mine pools, ethpool 
and ethermine, publicli reveal that they share the same admin [47]. thus, ani 
analysi base on the voluntari miner data skew toward a more decentr 
network than the reality. 

4.4 mine power util 

mine power util [34], which measur the fraction of mine block that 
remain in the main chain, be a metric for evalu the effici of a protocol, a 
well a a second order metric for robust against rollbacks. As mine power 
util increases, the protocol be abl to convert more of the energi spent to 
use work, and therefor the cost to launch an attack be higher. 
methodology. To studi the mine power utilization, we analyz weekli and 
daili distribut of prune block in bitcoin and uncl in ethereum, compar 
to the main chain blocks. while uncl block in ethereum contribut to the 
select of the main chain and reward miners, uncl block do not sequenc 
transactions. thus, uncl block do not contribut to ethereum’ performance, 
but do contribut to the blockchain’ security. We retriev thi data from (1) the 
falcon network, (2) a local bitcoin client, and (3) public blockchain explor 
for bitcoin [9] and ethereum [32]. In particular, the bitcoin blockchain explor 
and falcon exclus provid 12% and 20% of the total 124 prune blocks, 
respectively. both sourc commonli discov the remain 68%. 
results. figur 6a and figur 6b show weekli and daili distribut of min- 
ing power util in bitcoin and ethereum networks, respectively. the re- 
sult show that bitcoin util be alway abov 99%, which mean that a 
prune block in bitcoin be a rel rare event. In contrast, daili util in 
ethereum be typic between 90% to 94% rang and never go abov the 97% 



(a) bitcoin- weekli mpu from 99% (b) ethereum- daili mpu from 70% 

fig. 6: mine power util (mpu) for bitcoin and ethereum 

threshold. dure 2016, ethereum face occasion drop in it util down 
from 74% to 88%, includ (1) the day follow the exploit of the dao 
vulner [10] from june 17 to 18, (2) attack on ethereum network [11, 66] 
between septemb 22 to octob 19, and (3) the day follow the spuriou 
dragon hard fork [48] between novemb 23 to 29. these result indic a strong 
relationship between mine power util and real life event in ethereum. 
thi may be the result of prevent measur that spam the network to slow 
down the dao attacker, bad actor gener block with excess resourc 
demands, and miner with outdat clients. these result indic that a relay 
network, like falcon, would be greatli benefici to the ethereum network. 
saniti checks. the design of the ethereum protocol requir peer to store and 
propag uncl blocks, which be not on the main chain. In contrast, bitcoin’ 
blockchain onli store the main chain so peer do not propag prune blocks. 
hence, captur such block in bitcoin requir activ watch the network. 
while the falcon relay network provid a strong incent to miner to relay 
block through it, some miner may choos not to do so. consequently, we may 
be miss some prune block that be gener by the bitcoin network. 

4.5 fair 

1 

4 
7 ethereum 

Fa 
irn 

e 
s 

Ra 
tio 

(lo 
g 

sc 
al 

e) 

1 

4 
7 

1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 

bitcoin 

miner index (descend mine power) 

fig. 7: fair distribution. zero fair- 
ness mean no prune block from miner. 

section 4.3 present the mine 
power distribution, which look at 
the main chain presenc of miners. 
the impact of thi distribut on a 
miner’ prune block rate be unclear. 
To studi thi relationship, we exam- 
ine fair defin a the ratio of a 
miner’ share of prune block to her 
mine power. In a fair protocol, min- 
er gener prune block proport to their mine power; hence, the fair 
be close to 1. A fair great than 1 impli that the miner be at a disadvantage, 
while a fair less than 1 impli that the miner have an advantage. 
methodology. We use the falcon network, and a bitcoin blockchain ex- 
plorer [8] to retriev prune bitcoin blocks. these sourc have, respectively, 
provid 109 and 99 blocks, yield a total of 124 distinct prune blocks. We 
collect uncl from an ethereum blockchain explor [32]. 

similar to section 4.3, our result here also assum that miner voluntarili 
identifi themselv in uncles/prun blocks. anoth caveat here lie in gather- 
ing prune blocks. while we incentiv miner to relay block through falcon, 



there be no guarante that they necessarili will do so. We suspect that explicit 
storag of uncl in ethereum captur a larg proport of prune blocks. 
results. figur 7 show the distribut of fair of 20 miner with the high 
mine power. the result indic that, in both networks, the top four miner 
gener be more success at append block to the main chain. We run 
the kolmogorov-smirnov good of fit test with a p-valu of 0.01 to compar 
the fair distribut of bitcoin and ethereum. perhap surprisingly, we see 
that the fair of ethereum and bitcoin differ significantli from each other 
keep a constant time period. the reason for thi differ be a much larg 
standard deviat in bitcoin’ miner fair compar to ethereum (1.72 ver- 
su 0.25). the mean of both fair distributions, however, be veri similar, 
with ethereum at 1.08 and bitcoin at 1.22. 

A high varianc result in central pressur sinc small miner will 
have a more difficult time afford the loss of revenu due to a transient 
high fair score. thi high varianc be a direct result of a significantli small 
number of block be gener in bitcoin. sinc ethereum have a high block 
frequenc than bitcoin, small miner have a more predict payoff than larg 
miners. thi make ethereum more predict to mine for small miner due 
to the low varianc in block rewards. thus, it be import for blockchain 
protocol to take varianc of the block reward in addit to the mean. 

simpli increas the block frequenc may not be the solut to decreas the 
varianc of block reward sinc the mine power distribut may be affect 
a well. the increas block frequenc in ethereum may be part of the caus of 
the slightli more central mine power distribut (see section 4.3). 

saniti checks. similar to section 4.4, our result here also assum that 
miner voluntarili identifi themselv in uncles/prun blocks. As before, if 
the miner be lying, they be like to present a more fair system than reality. 
anoth caveat here lie in gather prune blocks. while we incentiv miner 
to relay block through falcon, there be no guarante that they will. We suspect 
that explicit storag of uncl in ethereum allow for more accur analysis. 

finally, bitcoin have a significantli low block gener frequenc than 
ethereum. On top of that, bitcoin also have a low prune block rate than 
ethereum does, which mean it have significantli few prune blocks. thus, thi 
fair metric be much noisier in bitcoin compar to ethereum. 

5 relat work 

network measur in blockchain-bas system have mainli focu on bit- 
coin. one such studi [22] demonstr that the latenc be the domin factor 
in propag of block small than 20 kb. follow work [20] have show that 
(1) thi limit have increas to 80 KB and (2) node be provis with sub- 
stantial high bandwidth capac than what the protocol demands. feld et 
al. [36] point out a strong as-level central that may impact bitcoin 
network’ connect – i.e. 10 ase contain over 30% of peers. recent work [2] 
present the level of vulnerability, show that 13 ase cover the same fraction 



of peers, but onli 39 IP prefix host half of the overal mine power. our be 
the first work that do a similar type of studi on ethereum a well. 

other work studi variou aspect of the bitcoin overlay network. miller et 
al. [56] found that a small fraction of the network, contain around 100 nodes, 
repres more than 75% of the mine power. the studi conjectur that these 
node be well-connect to major mine pools; hence, provid high effici 
in broadcast blocks. biryukov et al. [4] examin how peer neighbor discov 
IP address that correspond to pseudonym identities. anoth studi [49] 
deanonym peer by observ anomal relay behavior in network. pap- 
palardo et al. [59] observ that low valu transact may experi wait 
time of over a month. other work measur churn and geoloc peer [24]. 
gervai et al. [40] discuss central concern regard the client develop- 
ment process, distribut of mine power, and spendabl coins. most of these 
work focu on attack and the structur of the overlay network, while thi work 
focu on the resourc capabl of the node use in the overlay network. 

recent work present way to reduc resourc requir to particip in 
blockchain systems. such solut enhanc decentr by increas the di- 
versiti of participants. aspen [39] achiev thi through shard the blockchain. 
In thi system, user store, process, and propag onli the data that be relev 
to them, henc need few resourc to join the network. anoth approach [62] 
reli on authent data structur to reduc load on nodes. relay net- 
work increas network effici through faster block propagation. the first 
such system [16] achiev thi by avoid full block verif and retransmit- 
ting know transactions. falcon, the sourc of prune block data in the bitcoin 
network in thi paper, reli on cut-through rout for faster block propagation. 
finally, fibr incorpor cut-through rout with compact block [17] and 
forward error correct over udp. the novelti in our work be util falcon 
data in order to gain insight into transient applic layer information. 

blockchain explor [65, 8, 32, 33] provid a varieti of data on cryptocurr 
networks, includ onlin blockchain history; statist on blockchain compo- 
nents, transact fees, and market value; and node information. while these 
sourc of inform be use to the community, thi work scientif test 
whether the intuit provid by these sourc of inform inde hold. 

6 conclus 

decentr in blockchain-bas platform be a compon of the valu 
proposit these system offer. thi work present a compar assess of 
decentr in two most popular cryptocurrencies, bitcoin and ethereum. 
To do so, it reli on novel measur techniqu to obtain applic layer 
inform use the falcon network and the applic of well-establish 
internet measur techniques. 

our observ show that bitcoin have a high capac network than 
ethereum,but with more cluster node like in datacenters. We also observ 
that bitcoin and ethereum have fairli central mine process and that 



further research be need to decentr permissionless consensu protocol fur- 
ther. In ethereum, the block reward have less varianc than bitcoin’s. finally, 
ethereum have a low mine power util than bitcoin, like due to the 
high block frequency. 

further, we see that bitcoin have undergon tremend growth and can in- 
creas the block size by a factor of 1.7x without ani decreas in decentr 
compar to 2016. additionally, our studi uncov that the volatil of mine 
reward be an important, but often ignored, metric. finally, we see that ethereum 
would like benefit from a relay network to increas it mine power utilization. 

7 acknowledg 

the author thank vitalik buterin and the anonym review for their feed- 
back on earli draft of thi manuscript. ittay eyal be support by the viterbi 
fellowship in the center for comput engin at the technion. thi work 
be partial fund and support by afosr grant f9550-16-0250, nsf csr- 
1422544, nsf cns-1601879, nsf cns-1544613, nsf ccf-1522054, nsf cns- 
1518779, nsf cns-1704615, onr n00014-16-1-2726, nist inform tech- 
nolog laboratori (60nanb15d327, 70nanb17h181), facebook, infosys, and 
ic3, the initi for cryptocurr and smart contracts. thi materi be 
base upon work support by the nation scienc foundat graduat re- 
search fellowship program under grant no. dge-1650441. ani opinions, find- 
ings, and conclus or recommend express in thi materi be those 
of the author and do not necessarili reflect the view of the nation scienc 
foundation. 

refer 

1. 21.co. bitnodes. https://bitnodes.21.co/, retriev jun. 2017. 
2. M. apostolaki, A. zohar, and L. vanbever. hijack bitcoin: rout attack on 

cryptocurrencies. arxiv preprint arxiv:1605.07524, 2016. 
3. benben team. benben. http://benben.com.gh/, retriev oct. 2016. 
4. A. biryukov, D. khovratovich, and I. pustogarov. deanonymis of client in 

bitcoin p2p network. In proc. of the acm confer on comput and commu- 
nicat secur (ccs), page 15–29, 2014. 

5. bitcoin community. bitcoin source. https://github.com/bitcoin/bitcoin, re- 
triev jun. 2017. 

6. bitcoin community. protocol rules. https://en.bitcoin.it/wiki/protocol_ 
rules, retriev jun. 2017. 

7. bitcoin community. protocol specification. https://en.bitcoin.it/wiki/ 
protocol_specification, retriev jun. 2017. 

8. blockchain info team. blockchain info. https://blockchain.info/, retriev 
may. 2017. 

9. blocktrail team. blocktrail api. https://www.blocktrail.com/api/docs#api_ 
data, retriev apr. 2017. 

10. V. buterin. critic updat re: dao vulnerability. https://blog.ethereum.org/ 
2016/06/17/critical-update-re-dao-vulnerability/, retriev apr. 2017. 



11. V. buterin. transact spam attack: next steps. https://blog.ethereum.org/ 
2016/09/22/transaction-spam-attack-next-steps/, retriev apr. 2017. 

12. F. cangialosi, D. levin, and N. spring. ting: measur and exploit latenc 
between all tor nodes. In proc. of the acm sigcomm confer on internet 
measur (imc), page 289–302, 2015. 

13. B. chandrasekaran, M. bai, M. schoenfield, A. berger, N. caruso, G. economou, 
S. gilliss, B. maggs, K. moses, D. duff, et al. alidade: Ip geoloc without 
activ probing. technic report, duke university, 2015. 

14. B. chun, D. culler, T. roscoe, A. bavier, L. peterson, M. wawrzoniak, and 
M. bowman. planetlab: an overlay testb for broad-coverag services. acm 
sigcomm ccr, 33(3):3–12, 2003. 

15. coinmarketcap. cryptocurr market capitalizations. https: 
//coinmarketcap.com/, retriev may. 2017. 

16. M. corallo. the bitcoin relay network. bip 152, http://bitcoinrelaynetwork. 
org/, retriev may. 2017. 

17. M. corallo. compact block relay. bip 152, https://github.com/bitcoin/bips/ 
blob/master/bip-0152.mediawiki, retriev jun. 2017. 

18. M. corallo. fibre: fast internet bitcoin relay engine. https://github.com/ 
bitcoinfibre/bitcoinfibre, retriev apr. 2017. 

19. cpp-ethereum authors. ethereum c++ client. https://github.com/ethereum/ 
cpp-ethereum, retriev apr. 2017. 

20. K. croman, C. decker, I. eyal, A. E. gencer, A. juels, A. kosba, A. miller, P. sax- 
ena, E. shi, E. G. sirer, D. song, and R. wattenhofer. On scale decentr 
blockchain (a posit paper). In proc. of the workshop on bitcoin and blockchain 
research (bitcoin), barbados, 2016. 

21. cryptocompar team. cryptocurr mine calculator. https://www. 
cryptocompare.com/mining/calculator, retriev jun. 2017. 

22. C. decker and R. wattenhofer. inform propag in the bitcoin network. 
In proc. of the ieee intern confer on peer-to-p computing, page 
1–10, trento, italy, 2013. 

23. R. dingledine, N. mathewson, and P. syverson. tor: the second-gener onion 
router. In proc. of the usenix secur symposium, 2004. 

24. J. A. D. donet, C. pérez-sola, and J. herrera-joancomartí. the bitcoin p2p 
network. In proc. of the intern financi cryptographi and data secur 
conference, page 87–102, barbados, 2014. 

25. ethereum community. devp2p forward compat requir for home- 
stead. https://github.com/ethereum/eips/blob/master/eips/eip-8.md, re- 
triev apr. 2017. 

26. ethereum community. d⌅vp2p wire protocol. https://github.com/ethereum/ 
wiki/wiki/%c3%90%ce%9evp2p-wire-protocol, retriev apr. 2017. 

27. ethereum community. ethereum wire protocol. https://github.com/ethereum/ 
wiki/wiki/ethereum-wire-protocol, retriev apr. 2017. 

28. ethereum community. A next gener smart contract and decentr ap- 
plicat platform. https://github.com/ethereum/wiki/wiki/white-paper, re- 
triev apr. 2017. 

29. ethereum community. rlpx: cryptograph network & transport proto- 
col. https://github.com/ethereum/devp2p/blob/master/rlpx.md, retriev 
apr. 2017. 

30. ethereum community. rlpx encryption. https://github.com/ethereum/go- 
ethereum/wiki/rlpx-encryption, retriev apr. 2017. 



31. ethereumj. the ethereum node explorer. https://www.ethernodes.org/, re- 
triev jun. 2017. 

32. etherscan team. etherscan: the ethereum block explorer. https://etherscan. 
io/, retriev jun. 2017. 

33. ethstat team. ethstats. https://ethstats.net/, retriev jun. 2017. 
34. I. eyal, A. E. gencer, E. G. sirer, and R. van renesse. bitcoin-ng: A scalabl 

blockchain protocol. In proc. of the usenix symposium on network system 
design and implement (nsdi), page 45–59, santa clara, ca, usa, 2016. 

35. I. eyal and E. G. sirer. major be not enough: bitcoin mine be vulnerable. In 
proc. of the intern financi cryptographi and data secur conference, 
barbados, 2014. 

36. S. feld, M. schönfeld, and M. werner. analyz the deploy of bitcoin’ p2p 
network under an as-level perspective. proc. of the intern workshop on 
secur peer-to-p intellig network and systems, 32:1121–1126, 2014. 

37. P. francis, S. jamin, C. jin, Y. jin, D. raz, Y. shavitt, and L. zhang. idmaps: 
A global internet host distanc estim service. ieee/acm transact on 
network (ton), page 525–540, 2001. 

38. J. A. garay, A. kiayias, and N. leonardos. the bitcoin backbon protocol: anal- 
ysi and applications. In proc. of the intern confer on the theori 
and applic of cryptograph techniqu (eurocrypt), page 281–310. 
springer, 2015. 

39. A. E. gencer, R. van renesse, and E. G. sirer. short paper: service-ori 
shard for blockchains. In proc. of the intern financi cryptographi and 
data secur conference, sliema, malta, 2017. 

40. A. gervais, G. O. karame, V. capkun, and S. capkun. Is bitcoin a decentr 
currency? proc. of the ieee symposium on secur and privacy, 3(12):54–60, 
2014. 

41. A. gervais, G. O. karame, K. wüst, V. glykantzis, H. ritzdorf, and S. capkun. 
On the secur and perform of proof of work blockchains. In proc. of the 
acm confer on comput and commun secur (ccs), page 3–16, 
vienna, austria, 2016. 

42. go-ethereum authors. offici Go implement of the ethereum protocol. 
https://github.com/ethereum/go-ethereum, retriev apr. 2017. 

43. S. guha, R. murty, and E. G. sirer. sextant: A unifi framework for node and 
event local in sensor networks. In proc. of the acm intern sympo- 
sium on mobil Ad hoc network and computing, page 205–216. acm, 2005. 

44. M. hearn and M. corallo. connect bloom filtering. bip 37, https://github. 
com/bitcoin/bips/blob/master/bip-0037.mediawiki, retreiv sept. 2017. 

45. E. heilman, A. kendler, A. zohar, and S. goldberg. eclips attack on bitcoin’ 
peer-to-p network. In proc. of the usenix secur symposium, page 129–144, 
washington, d.c., usa, 2015. 

46. IP info team. IP info. http://ipinfo.io/, retriev apr. 2017. 
47. jackwinters. ethpool & ethermin vote on the soft fork. https:// 

forum.daohub.org/t/ethpool-ethermine-voting-on-the-soft-fork/5364, re- 
triev apr. 2017. 

48. H. jameson. hard fork no. 4: spuriou dragon. https://blog.ethereum.org/ 
2016/11/18/hard-fork-no-4-spurious-dragon/, retriev apr. 2017. 

49. P. koshy, D. koshy, and P. mcdaniel. An analysi of anonym in bitcoin use 
p2p network traffic. In proc. of the intern financi cryptographi and 
data secur conference, page 469–485, barbados, 2014. 



50. A. kwon, D. lazar, S. devadas, and B. ford. riffle: An effici communica- 
tion system with strong anonymity. proc. of the privaci enhanc technolog 
symposium (pets), 2016. 

51. A. loibl. namecoin. namecoin.info, 2014. 
52. C. lumezanu, R. baden, N. spring, and B. bhattacharjee. triangl inequ 

variat in the internet. In proc. of the acm sigcomm confer on internet 
measur (imc), page 177–183, 2009. 

53. D. malkhi and M. reiter. byzantin quorum systems. journal of distribut 
computing, 11(4):203–213, 1998. 

54. P. maymounkov and D. mazieres. kademlia: A peer-to-p inform system 
base on the xor metric. In proc. of the intern workshop on peer-to-p 
systems, page 53–65. springer, 2002. 

55. P. mccorry, S. shahandashti, and F. hao. A smart contract for boardroom vote 
with maximum voter privacy. In proc. of the intern financi cryptographi 
and data secur conference, sliema, malta, 2017. 

56. A. miller, J. litton, A. pachulski, N. gupta, D. levin, N. spring, and B. bhat- 
tacharjee. discov bitcoin’ public topolog and influenti nodes, 2015. 

57. S. nakamoto. bitcoin: A peer-to-p electron cash system, 2008. 
58. K. nayak, S. kumar, A. miller, and E. shi. stubborn mining: gener selfish 

mine and combin with an eclips attack. iacr cryptolog eprint archive, 
2015:796, 2015. 

59. G. pappalardo, T. Di matteo, G. caldarelli, and T. aste. blockchain ineffici 
in the bitcoin peer network. arxiv preprint arxiv:1704.01414, 2017. 

60. pariti authors. ethereum rust client. https://github.com/paritytech/parity, 
retriev apr. 2017. 

61. pyethapp authors. python base client implement the ethereum protocol. 
https://github.com/ethereum/pyethapp/, retriev apr. 2017. 

62. L. reyzin, D. meshkov, A. chepurnoy, and S. ivanov. improv authent 
dynam dictionaries, with applic to cryptocurrencies. In proc. of the in- 
ternat financi cryptographi and data secur conference, sliema, malta, 
2017. 

63. R. W. sinnott. virtu of the haversine. ski and telescope, 1984. 
64. Y. sompolinski and A. zohar. secur high-rat transact process in bitcoin. 

In proc. of the intern financi cryptographi and data secur conference, 
page 507–527, puerto rico, 2015. 

65. statoshi team. statoshi info. http://statoshi.info/, retriev may. 2017. 
66. M. swende. announc of immin hard fork for eip150 ga cost 

changes. https://blog.ethereum.org/2016/10/13/announcement-imminent- 
hard-fork-eip150-gas-cost-changes/, retriev apr. 2017. 

67. G. wang, B. zhang, and T. ng. toward network triangl inequ violat 
awar distribut systems. In proc. of the acm sigcomm confer on internet 
measur (imc), page 175–188. acm, 2007. 

68. L. wang and Y. liu. explor miner evolut in bitcoin network. In proc. of 
the intern workshop on passiv and activ network measurement, page 
290–302. springer, 2015. 

69. Y. wang, D. burgener, M. flores, A. kuzmanovic, and C. huang. toward street- 
level client-independ ip geolocation. In proc. of the usenix symposium on 
network system design and implement (nsdi), page 365–379. usenix 
association, 2011. 

70. G. wood. ethereum: A secur decentralis generalis transact ledger. 
ethereum project yellow paper, 2014. 


