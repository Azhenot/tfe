














































ar 
X 

iv 
:1 

60 
9. 

05 
80 

7v 
2 

[ 
c 

.L 
G 

] 
1 

7 
N 

ov 
2 

01 
6 

inher trade-off in the fair determin of risk score 

jon kleinberg ∗ sendhil mullainathan † manish raghavan ‡ 

abstract 

recent discuss in the public sphere about algorithm classif have involv tension between 
compet notion of what it mean for a probabilist classif to be fair to differ groups. We 
formal three fair condit that lie at the heart of these debates, and we prove that except in highli 
constrain special cases, there be no method that can satisfi these three condit simultaneously. 
moreover, even satisfi all three condit approxim requir that the data lie in an approxim 
version of one of the constrain special case identifi by our theorem. these result suggest some 
of the way in which key notion of fair be incompat with each other, and henc provid a 
framework for think about the trade-off between them. 

1 introduct 

there be mani set in which a sequenc of peopl come befor a decision-maker, who must make a 
judgment about each base on some observ set of features. across a rang of applications, these judg- 
ment be be carri out by an increasingli wide spectrum of approach rang from human expertis 
to algorithm and statist frameworks, a well a variou combin of these approaches. 

along with these developments, a grow line of work have ask how we should reason about issu of bia 
and discrimin in set where these algorithm and statist techniques, train on larg dataset 
of past instances, play a signific role in the outcome. let u consid three exampl where such issu 
arise, both to illustr the rang of relev contexts, and to surfac some of the challenges. 

A set of exampl domains. first, at variou point in the crimin justic system, includ decis 
about bail, sentencing, or parole, an offic of the court may use quantit risk tool to ass a defendant’ 
probabl of recidiv — futur arrest — base on their past histori and other attributes. sever recent 
analysi have ask whether such tool be mitig or exacerb the sourc of bia in the crimin 
justic system; in one widely-public report, angwin et al. analyz a commonli use statist method 
for assign risk score in the crimin justic system — the compa risk tool — and argu that it be 
bia against african-american defend [2, 23]. one of their main content be that the tool’ error 
be asymmetric: african-american defend be more like to be incorrectli label a higher-risk 
than they actual were, while white defend be more like to be incorrectli label a lower-risk than 
they actual were. subsequ analysi rais methodolog object to thi report, and also observ 
that despit the compa risk tool’ errors, it estim of the probabl of recidiv be equal well 
calibr to the true outcom for both african-american and white defend [1, 10, 13, 17]. 

∗cornel univers 
†harvard univers 
‡cornel univers 

1 

http://arxiv.org/abs/1609.05807v2 


second, in a veri differ domain, research have begin to analyz the way in which differ gender 
and racial group experi advertis and commerci content on the internet differ [9, 26]. We 
could ask, for example: if a male user and femal user be equal interest in a particular product, do 
it follow that they’r equal like to be show an ad for it? sometim thi concern may have broader 
implications, for exampl if woman in aggreg be show ad for lower-pay jobs. other times, it may 
repres a clash with a user’ leisur interests: if a femal user interact with an advertis platform be 
interest in an activ that tend to have a male-domin viewership, like profession football, be the 
platform a like to show her an ad for footbal a it be to show such an ad to an interest male user? 

A third domain, again quit differ from the previou two, be medic test and diagnosis. doctor 
make decis about a patient’ treatment may reli on test provid probabl estim for differ 
diseas and conditions. here too we can ask whether such decision-mak be be appli uniformli 
across differ group of patient [16, 27], and in particular how medic test may play a differenti role 
for condit that vari wide in frequenc between these groups. 

provid guarante for decis procedures. one can rais analog question in mani other do- 
main of fundament importance, includ decis about hiring, lending, or school admiss [24], but 
we will focu on the three exampl abov for the purpos of thi discussion. In these three exampl do- 
mains, a few structur common stand out. first, the algorithm estim be often be use a 
“input” to a larg framework that make the overal decis — a risk score provid to a human expert in 
the legal and medic instances, and the output of a machine-learn algorithm provid to a larg adver- 
tise platform in the case of internet ads. second, the underli task be gener about classifi whether 
peopl poss some relev property: recidivism, a medic condition, or interest in a product. We will 
refer to peopl a be posit instanc if they truli poss the property, and neg instanc if they 
do not. finally, the algorithm estim be provid for these question be gener not pure yes-no 
decisions, but instead probabl estim about whether peopl constitut posit or neg instances. 

let u suppos that we be concern about how our decis procedur might oper differenti between 
two group of interest (such a african-american and white defendants, or male and femal user of an 
advertis system). what sort of guarante should we ask for a protect against potenti bias? 

A first basic goal in thi literatur be that the probabl estim provid by the algorithm should be 
well-calibrated: if the algorithm identifi a set of peopl a have a probabl z of constitut posit 
instances, then approxim a z fraction of thi set should inde be posit instanc [8, 14]. moreover, 
thi condit should hold when appli separ in each group a well [13]. for example, if we be 
think in term of potenti differ between outcom for men and women, thi mean requir that a 
z fraction of men and a z fraction of woman assign a probabl z should poss the properti in question. 

A second goal focu on the peopl who constitut posit instanc (even if the algorithm can onli 
imperfectli recogn them): the averag score receiv by peopl constitut posit instanc should 
be the same in each group. We could think of thi a balanc for the posit class, sinc a violat of it 
would mean that peopl constitut posit instanc in one group receiv consist low probabl 
estim than peopl constitut posit instanc in anoth group. In our initi crimin justic example, 
for instance, one of the concern rais be that white defend who go on to commit futur crime 
be assign risk score correspond to low probabl estim in aggregate; thi be a violat of 
the condit here. there be a complet analog properti with respect to neg instances, which we 
could call balanc for the neg class. these balanc condit can be view a gener of the 
notion that both group should have equal fals neg and fals posit rates. 

It be import to note that balanc for the posit and neg classes, a defin here, be distinct in 

2 



crucial way from the requir that the averag probabl estim global over all member of the 
two group be equal. thi latter global requir be a version of statist pariti [12, 4, 21, 22]. In some 
case statist pariti be a central goal (and in some it be legal mandated), but the exampl consid 
so far suggest that classif and risk assess be much broader activ where statist pariti be 
often neither feasibl nor desirable. balanc for the posit and neg classes, however, be a goal that can 
be discuss independ of statist parity, sinc these two balanc condit simpli ask that onc we 
condit on the “correct” answer for a person, the chanc of make a mistak on them should not depend 
on which group they belong to. 

the present work: trade-off among the guarantees. despit their differ formulations, the calibra- 
tion condit and the balanc condit for the posit and neg class intuit all seem to be 
ask for variant of the same gener goal — that our probabl estim should have the same effec- 
tive regardless of group membership. one might therefor hope that it would be feasibl to achiev all 
of them simultaneously. 

our main result, however, be that these condit be in gener incompat with each other; they can onli 
be simultan satisfi in certain highli constrain cases. moreover, thi incompat appli to 
approxim version of the condit a well. 

In the remaind of thi section we formul thi main result precisely, a a theorem build on a model 
that make the discuss thu far more concrete. 

1.1 formul the goal 

let’ start with some basic definitions. As above, we have a collect of peopl each of whom constitut 
either a posit instanc or a neg instanc of the classif problem. we’ll say that the posit 
class consist of the peopl who constitut posit instances, and the neg class consist of the peopl 
who constitut neg instances. for example, for crimin defendants, the posit class could consist of 
those defend who will be arrest again within some fix time window, and the neg class could 
consist of those who will not. the posit and neg class thu repres the “correct” answer to the 
classif problem; our decis procedur do not know them, but be tri to estim them. 

featur vectors. each person have an associ featur vector σ, repres the data that we know 
about them. let pσ denot the fraction of peopl with featur vector σ who belong to the posit class. 
conceptually, we will pictur that while there be variat within the set of peopl who have featur vector 
σ, thi variat be invis to whatev decis procedur we apply; all peopl with featur vector σ be 
indistinguish to the procedure. our model will assum that the valu pσ for each σ be know to the 
procedure.1 

groups. each person also belong to one of two groups, label 1 or 2, and we would like our decis 
to be unbias with respect to the member of these two groups.2 In our examples, the two group could 
correspond to differ race or genders, or other case where we want to look for the possibl of bia 
between them. the two group have differ distribut over featur vectors: a person of group t have a 
probabl atσ of exhibit the featur vector σ. however, peopl of each group have the same probabl 

1clearli the case in which the valu of pσ be unknown be an import version of the problem a well; however, sinc our main 
result establish strong limit on what be achievable, these limit be onli strong becaus they appli even to the case of 
know pσ. 

2we focu on the case of two group for simplic of exposition, but it be straightforward to extend all of our definit to the 
case of more than two groups. 

3 



pσ of belong to the posit class provid their featur vector be σ. In thi respect, σ contain all the 
relev inform avail to u about the person’ futur behavior; onc we know σ, we do not get ani 
addit inform from know their group a well.3 

risk assignments. We say that an instanc of our problem be specifi by the paramet above: a featur 
vector and a group for each person, with a valu pσ for each featur vector, and distribut {atσ} give 
the frequenc of the featur vector in each group. 

informally, risk assess be way of divid peopl up into set base on their featur vector σ (po- 
tential use randomization), and then assign each set a probabl estim that the peopl in thi set 
belong to the posit class. thus, we defin a risk assign to consist of a set of “bins” (the sets), where 
each bin be label with a score vb that we intend to use a the probabl for everyon assign to bin b. 
We then creat a rule for assign peopl to bin base on their featur vector σ; we allow the rule to di- 
vide peopl with a fix featur vector σ across multipl bin (reflect the possibl use of randomization). 
thus, the rule be specifi by valu xσb: a fraction xσb of all peopl with featur vector σ be assign 
to bin b. note that the rule do not have access to the group t of the person be considered, onli their 
featur vector σ. (a we will see, thi do not mean that the rule be incap of exhibit bia between 
the two groups.) In summary, a risk assign be specifi by a set of bins, a score for each bin, and valu 
xσb that defin a map from peopl with featur vector to bins. 

fair properti for risk assignments. within the model, we now express the three condit dis- 
cuss at the outset, each reflect a potenti differ notion of what it mean for the risk assign to 
be “fair.” 

(a) calibr within group requir that for each group t, and each bin b with associ score vb, the 
expect number of peopl from group t in b who belong to the posit class should be a vb fraction 
of the expect number of peopl from group t assign to b. 

(b) balanc for the neg class requir that the averag score assign to peopl of group 1 who 
belong to the neg class should be the same a the averag score assign to peopl of group 2 
who belong to the neg class. In other words, the assign of score shouldn’t be systemat 
more inaccur for neg instanc in one group than the other. 

(c) balanc for the posit class symmetr requir that the averag score assign to peopl of 
group 1 who belong to the posit class should be the same a the averag score assign to peopl 
of group 2 who belong to the posit class. 

whi Do these condit correspond to notion of fairness?. all of these be natur condit to 
impos on a risk assignment; and a indic by the discuss above, all of them have be propos a 
version of fairness. the first one essenti ask that the score mean what they claim to mean, even when 
consid separ in each group. In particular, suppos a set of score lack the first properti for some 
bin b, and these score be give to a decision-maker; then if peopl of two differ group both belong to 
bin b, the decision-mak have a clear incent to treat them differently, sinc the lack of calibr within 
group on bin b mean that these peopl have differ aggreg probabl of belong to the posit 
class. anoth way of state the properti of calibr within group be to say that, condit on the 
bin to which an individu be assigned, the likelihood that the individu be a member of the posit class 
be independ of the group to which the individu belongs. thi mean we be justifi in treat peopl 

3a we will discu in more detail below, the assumpt that the group provid no addit inform beyond σ do not 
restrict the gener of the model, sinc we can alway consid instanc in which peopl of differ group never have the same 
featur vector σ, and henc σ implicitli convey perfect inform about a person’ group. 

4 



with the same score compar with respect to the outcome, rather than treat peopl with the same score 
differ base on the group they belong to. 

the second and third ask that if two individu in differ group exhibit compar futur behavior 
(neg or positive), they should be treat compar by the procedure. In other words, a violat of, 
say, the second condit would correspond to the member of the neg class in one group receiv 
consist high score than the member of the neg class in the other group, despit the fact that the 
member of the neg class in the higher-scor group have do noth to warrant these high scores. 

We can also interpret some of the prior work around our earli exampl through the len of these condi- 
tions. for example, in the analysi of the compa risk tool for crimin defendants, the critiqu by angwin 
et al. focu on the risk tool’ violat of condit (b) and (c); the counter-argu establish that 
it satisfi condit (a). while it be clearli crucial for a risk tool to satisfi (a), it may still be import to 
know that it violat (b) and (c). similarly, to think in term of the exampl of internet advertising, with 
male and femal user a the two groups, condit (a) a befor requir that our estim of ad-click 
probabl mean the same thing in aggreg for men and women. condit (b) and (c) be distinct; con- 
dition (c), for example, say that a femal user who genuin want to see a give ad should be assign 
the same probabl a a male user who want to see the ad. 

1.2 determin what be achievable: A character theorem 

when can condit (a), (b), and (c) be simultan achieved? We begin with two simpl case where 
it’ possible. 

• perfect prediction. suppos that for each featur vector σ, we have either pσ = 0 or pσ = 1. thi 
mean that we can achiev perfect prediction, sinc we know each person’ class label (posit or 
negative) for certain. In thi case, we can assign all featur vector σ with pσ = 0 to a bin b with score 
vb = 0, and all σ with pσ = 1 to a bin b′ with score vb′ = 1. It be easi to check that all three of the 
condit (a), (b), and (c) be satisfi by thi risk assignment. 

• equal base rates. suppose, alternately, that the two group have the same fraction of member in the 
posit class; that is, the averag valu of pσ be the same for the member of group 1 and group 2. (we 
can refer to thi a the base rate of the group with respect to the classif problem.) In thi case, 
we can creat a singl bin b with score equal to thi averag valu of pσ, and we can assign everyon 
to bin b. while thi be not a particularli inform risk assignment, it be again easi to check that it 
satisfi fair condit (a), (b), and (c). 

our first main result establish that these be in fact the onli two case in which a risk assign can 
achiev all three fair guarante simultaneously. 

theorem 1.1 consid an instanc of the problem in which there be a risk assign satisfi fair 
condit (a), (b), and (c). then the instanc must either allow for perfect predict (with pσ equal to 0 
or 1 for all σ) or have equal base rates. 

thus, in everi instanc that be more complex than the two case note above, there will be some natur 
fair condit that be violat by ani risk assignment. moreover, note that thi result appli regardless 
of how the risk assign be computed; sinc our framework consid risk assign to be arbitrari 
function from featur vector to bin label with probabl estimates, it appli independ of the 
method — algorithm or otherwis — that be use to construct the risk assignment. 

5 

lphilipp 
text surligné 



the conclus of the first theorem can be relax in a continu fashion when the fair condit be 
onli approximate. In particular, for ani ε > 0 we can defin ε-approxim version of each of condit 
(a), (b), and (c) (specifi precis in the next section), each of which requir that the correspond 
equal between group hold onli to within an error of ε. for ani δ > 0, we can also defin a δ- 
approxim version of the equal base rate condit (requir that the base rate of the two group be 
within an addit δ of each other) and a δ-approxim version of the perfect predict condit (requir 
that in each group, the averag of the expect score assign to member of the posit class be at least 
1 − δ; by the calibr condition, thi can be show to impli a complementari bound on the averag of 
the expect score assign to member of the neg class). 

In these terms, our approxim version of theorem 1.1 be the following. 

theorem 1.2 there be a continu function f , with f(x) go to 0 a x go to 0, so that the follow 
holds. for all ε > 0, and ani instanc of the problem with a risk assign satisfi the ε-approxim 
version of fair condit (a), (b), and (c), the instanc must satisfi either the f(ε)-approxim 
version of perfect predict or the f(ε)-approxim version of equal base rates. 

thus, anyth that approxim satisfi the fair constraint must approxim look like one of the 
two simpl case identifi above. 

finally, in connect to theorem 1.1, we note that when the two group have equal base rates, then one 
can ask for the most accur risk assign that satisfi all three fair condit (a), (b), and (c) 
simultaneously. sinc the risk assign that give the same score to everyon satisfi the three conditions, 
we know that at least one such risk assign exists; hence, it be natur to seek to optim over the set of 
all such assignments. We consid thi algorithm question in the final technic section of the paper. 

To reflect a bit further on our main theorem and what they suggest, we note that our intent in the present 
work isn’t to make a recommend on how conflict between differ definit of fair should be 
handled. nor be our intent to analyz which definit of fair be violat in particular applic 
or datasets. rather, our point be to establish certain unavoid trade-off between the definitions, regardless 
of the specif context and regardless of the method use to comput risk scores. sinc each of the definit 
reflect (and have be propos as) natur notion of what it should mean for a risk score to be fair, these 
trade-off suggest a strike implication: that outsid of narrowli delin cases, ani assign of risk 
score can in principl be subject to natur critic on the ground of bias. thi be equal true whether 
the risk score be determin by an algorithm or by a system of human decision-makers. 

special case of the model. our main results, which place strong restrict on when the three fair 
condit can be simultan satisfied, have more power when the underli model of the input be more 
general, sinc it mean that the restrict impli by the theorem appli in great generality. however, 
it be also use to note certain special case of our model, obtain by limit the flexibl of certain 
paramet in intuit ways. the point be that our result appli a fortiori to these more limit special 
cases. 

first, we have alreadi observ one natur special case of our model: case in which, for each featur 
vector σ, onli member of one group (but not the other) can exhibit σ. thi mean that σ contain perfect 
inform about group membership, and so it correspond to instanc in which risk assign would 
have the potenti to use knowledg of an individual’ group membership. note that we can convert ani 
instanc of our problem into a new instanc that belong to thi special case a follows. for each featur 
vector σ, we creat two new featur vector σ(1) and σ(2); then, for each member of group 1 who have featur 
vector σ, we assign them σ(1), and for each member of group 2 who have featur vector σ, we assign them 

6 



σ(2). the result instanc have the properti that each featur vector be associ with member of onli one 
group, but it preserv the essenti aspect of the origin instanc in other respects. 

second, we allow risk assign in our model to split peopl with a give featur vector σ over sever 
bins. our result also therefor appli to the natur special case of the model with integr risk assignments, 
in which all peopl with a give featur σ must go to the same bin. 

third, our model be a gener of binari classification, which onli allow for 2 bins. note that although 
binari classif do not explicitli assign scores, we can consid the probabl that an individu 
belong to the posit class give that they be assign to a specif bin to be the score for that bin. thus, 
our result hold in the tradit binari classif set a well. 

data-gener processes. finally, there be the question of where the data in an instanc of our problem 
come from. our result do not assum ani particular process for gener the positive/neg class 
labels, featur vectors, and group memberships; we simpli assum that we be give such a collect of 
valu (regardless of where they come from), and then our result address the exist or non-exist of 
certain risk assign for these values. 

thi increas the gener of our results, sinc it mean that they appli to ani process that produc data 
of the form describ by our model. To give an exampl of a natur gener model that would produc 
instanc with the structur that we need, one could assum that each individu start with a “hidden” class 
label (posit or negative), and a featur vector σ be then probabilist gener for thi individu from 
a distribut that can depend on their class label and their group membership. (if featur vector produc 
for the two group be disjoint from one another, then the requir that the valu of pσ be independ of 
group membership give σ necessarili holds.) sinc a process with thi structur produc instanc from 
our model, our result appli to data that aris from such a gener process. 

It be also interest to note that the basic set-up of our model, with the popul divid across a set 
of featur vector for which race provid no addit information, be in fact a veri close match to the 
inform one get from the output of a well-calibr risk tool. In thi sense, one set for our model 
would be the problem of appli post-process to the output of such a risk tool to ensur addit 
fair guarantees. indeed, sinc much of the recent controversi about fair risk score have involv risk 
tool that be well-calibr but lack the other fair condit we consider, such an interpret of the 
model could be a use way to think about how one might work with these tool in the context of a broader 
system. 

1.3 further relat work 

mount concern over discrimin in machin learn have lead to a larg bodi of new work seek 
to good understand and prevent it. baroca and selbst survey a rang of way in which data-analysi 
algorithm can lead to discriminatori outcom [3], and review articl by romei and ruggieri [25] and 
zliobait [30] survey data-analyt and algorithm method for measur discrimination. 

kamiran and calder [21] and hajian and domingo-ferr [18] seek to modifi dataset to remov ani 
inform that might permit discrimination. similarly, zemel et al. look to learn fair intermedi repre- 
sentat of data while preserv inform need for classif [29]. joseph et al. consid how 
fair issu can aris dure the process of learning, model thi use a multi-arm bandit framework 
[20]. 

7 



one common notion of fair be “statist parity” – equal fraction of each group should be treat a 
belong to the posit class [4, 21, 22]. recent paper have also consid approxim relax of 
statist parity, motiv by the formul of dispar impact in the u.s. legal code [12, 28]. work in 
these direct have develop learn algorithm that penal violat of statist pariti [4, 22]. As 
note above, we consid definit other than statist pariti that take into account the class membership 
(posit or negative) of the peopl be classified. 

dwork et al. propos a framework base on a task-specif extern defin similar metric between 
individuals, seek to achiev fair through the goal that “similar peopl [be] treat similarly” [11]. 
they strive toward individu fairness, which be a strong notion of fair than the definit we use; 
however, our approach share some of the underli motiv (though not the specifics) in that our 
balanc condit for the posit and neg class also reflect the notion that similar peopl should be 
treat similarly. 

much of the appli work on risk scores, a note above, focu on calibr a a central goal [8, 10, 13]. 
In particular, respond to the critic of their risk score a display asymmetr error for differ 
groups, dietrich et al. note that empirically, both in their domain and in similar settings, it be typic 
difficult to achiev symmetri in the error rate across group when base rate differ significantly. our 
formul of the balanc condit for the posit and neg classes, and our result show the 
incompat of these condit with calibration, provid a theoret basi for such observations. 

In recent work concurr with ours, hardt et al. consid the natur analogu of our condit (b) and (c), 
balanc for the neg and posit classes, in the case of classifi that output binari “yes/no” predict 
rather than real-valu score a in our case [19]. sinc they do not requir an analogu of calibration, it 
be possibl to satisfi the two balanc constraint simultaneously, and they provid method for optim 
perform measur of the predict rule subject to satisfi these two constraints. also concurr with 
our work and that of hardt et al., chouldechova [5] and corbett-davi et al. [6] (and see also [7]) consid 
binari predict subject to these same analogu of the balanc condit for the neg and posit 
classes, togeth with a form of calibr adapt to binari predict (requir that for all peopl give 
a posit label, the same fraction of peopl in each group should truli belong to the posit class). among 
other results, they show that no classif rule satisfi the requir constraint be possible. finally, a 
recent paper of friedler et al. [15] defin two axiomat properti of featur gener and show that no 
mechan can be fair under these two properties. 

2 the character theorem 

start with the notat and definit from the previou section, we now give a proof of theorem 1.1. 

inform overview. let u begin with a brief overview of the proof, befor go into a more detail 
version of it. for thi discussion, let Nt denot the number of peopl in group t, and µt be the number of 
peopl in group t who belong to the posit class. 

roughli speaking, the proof proce in two steps. first, consid a singl bin b. By the calibr condi- 
tion, the expect total score give to the group-t peopl in bin b be equal to the expect number of group-t 
peopl in bin b who belong to the posit class. sum over all bins, we find that the total score give 
to all peopl in group t (that is, the sum of the score receiv by everyon in group t) be equal to the total 
number of peopl in the posit class in group t, which be µt. 

8 



now, let x be the averag score give to a member of the neg class, and let y be the averag score give 
to a member of the posit class. By the balanc condit for the neg and posit classes, these 
valu of x and y be the same for both groups. 

given the valu of x and y, the total number of peopl in the posit class µt, and the total score give out 
to peopl in group t — which, a argu above, be also µt — we can write the total score a 

(N − µt)x+ µti = µt. 

thi defin a line for each group t in the two variabl x and y, and henc we obtain a system of two linear 
equat (one for each group) in the unknown x and y. 

If all three condit — calibration, and balanc for the two class — be to be satisfied, then we must be 
at a set of paramet that repres a solut to the system of two equations. If the base rate be equal, 
then µ1 = µ2 and henc the two line be the same; in thi case, the system of equat be satisfi by ani 
choic of x and y. If the base rate be not equal, then the two line be distinct, and they intersect onli at the 
point (x, y) = (0, 1), which impli perfect predict — an averag score of 0 for member of the neg 
class and 1 for member of the posit class. thus, the three condit can be simultan satisfi if 
and onli if we have equal base rate or perfect prediction. 

thi conclud the overview of the proof; in the remaind of the section we describ the argument at a more 
detail level. 

definit and notation. recal from our notat in the previou section that an atσ fraction of the 
peopl in group t have featur vector σ; we thu write ntσ = atσnt for the number of peopl in group t with 
featur vector σ. mani of the compon of the risk assign and it evalu can be write in term 
of oper on a set of underli matrix and vectors, which we begin by specifying. 

• first, let |σ| denot the number of featur vector in the instance, and let p ∈ r|σ| be a vector index 
by the possibl featur vectors, with the coordin in posit σ equal to pσ. for group t, let nt ∈ r|σ| 
also be a vector index by the possibl featur vectors, with the coordin in posit σ equal to ntσ. 
finally, it will be use to have a represent of p a a diagon matrix; thus, let P be a |σ| × |σ| 
diagon matrix with pσσ = pσ. 

• We now specifi a risk assign a follows. the risk assign involv a set of B bin with 
associ scores; let v ∈ RB be a vector index by the bins, with the coordin in posit b equal 
to the score vb of bin b. let V be a diagon matrix version of v: it be a B × B matrix with vbb = vb. 
finally, let X be the |σ| × B matrix of xσb values, specifi the fraction of peopl with featur 
vector σ who get map to bin b under the assign procedure. 

there be an import point to note about the xσb values. If all of them be equal to 0 or 1, thi correspond 
to a procedur in which all peopl with the same featur vector σ get assign to the same bin. when some 
of the xσb valu be not equal to 0 or 1, the peopl with vector σ be be divid among multipl bins. 
In thi case, there be an implicit random take place with respect to the posit and neg classes, 
and with respect to the two groups, which we can think of a follows. sinc the procedur cannot distinguish 
among peopl with vector σ, in the case that it distribut these peopl across multipl bins, the subset of 
peopl with vector σ who belong to the posit and neg classes, and to the two groups, be divid 
up randomli across these bin in proport correspond to xσb. In particular, if there be ntσ group-t 
peopl with vector σ, the expect number of these peopl who belong to the posit class and be assign 
to bin b be ntσpσxσb. 

let u now proceed with the proof of theorem 1.1, start with the assumpt that our risk assign 
satisfi condit (a), (b), and (c). 

9 



calibr within groups. We begin by work out some use express in term of the matrix 
and vector defin above. We observ that n⊤t P be a vector in R 

|σ| whose coordin correspond to 
featur vector σ equal the number of peopl in group t who have featur vector σ and belong to the posit 
class. n⊤t X be a vector in R 

B whose coordin correspond to bin b equal the expect number of peopl 
in group t assign to bin b. 

By further multipli these vector on the right, we get addit use quantities. here be two in 
particular: 

• n⊤t XV be a vector in RB whose coordin correspond to bin b equal the expect sum of the 
score assign to all group-t peopl in bin b. that is, use the subscript b to denot the coordin 
correspond to bin b, we can write (n⊤t XV )b = vb(n 

⊤ 
t x)b by the definit of the diagon matrix 

V . 

• n⊤t PX be a vector in RB whose coordin correspond to bin b equal the expect number of 
group-t peopl in the posit class who be place in bin b. 

now, condit (a), that the risk assign be calibr within groups, impli that the two vector abov 
be equal coordinate-wise, and so we have the follow equat for all t: 

n⊤t PX = n 
⊤ 
t XV (1) 

calibr condit (a) also have an implic for the total score receiv by all peopl in group t. 
suppos we multipli the two side of (1) on the right by the vector e ∈ RB whose coordin be all 1, 
obtain 

n⊤t pxe = n 
⊤ 
t XV e. (2) 

the left-hand-sid be the number of group-t peopl in the posit class. the right-hand-side, which we can 
also write a n⊤t xv, be equal to the sum of the expect score receiv by all group-t people. these two 
quantiti be thu the same, and we write their common valu a µt. 

fair to the posit and neg classes. We now want to write down vector equat correspond 
to the fair condit (b) and (c) for the neg and posit classes. first, recal that for the B- 
dimension vector n⊤t px, the coordin correspond to bin b equal the expect number of group-t 
peopl in the posit class who be place in bin b. thus, to comput the sum of the expect score 
receiv by all group-t peopl in the posit class, we simpli need to take the inner product with the vector 
v, yield n⊤t pxv. sinc µt be the total number of group-t peopl in the posit class, the averag of the 

expect score receiv by a group-t person in the posit class be the ratio 
1 

µt 
n⊤t pxv. thus, condit 

(c), that member of the posit class should receiv the same averag score in each group, can be write 

1 

µ1 
n⊤1 pxv = 

1 

µ2 
n⊤2 pxv (3) 

appli strictli analog reason but to the fraction 1 − pσ of peopl in the neg class, we can 
write condit (b), that member of the neg class should receiv the same averag score in each group, 
a 

1 

N1 − µ1 
n⊤1 (I − P )xv = 

1 

N2 − µ2 
n⊤2 (I − P )xv (4) 

10 



use (1), we can rewrit (3) to get 

1 

µ1 
n⊤1 XV v = 

1 

µ2 
n⊤2 XV v (5) 

similarly, we can rewrit (4) a 

1 

N1 − µ1 
(µ1 − n⊤1 XV v) = 

1 

N2 − µ2 
(µ2 − n⊤2 XV v) (6) 

the portion of the score receiv by the posit class. We think of the ratio on the two side of (3), 
and equival (5), a the averag of the expect score receiv by a member of the posit class in 
group t: the numer be the sum of the expect score receiv by the member of the posit class, and 
the denomin be the size of the posit class. let u denot thi fraction by γt; we note that thi be the 
quantiti y use in the inform overview of the proof at the start of the section. By (2), we can altern 
think of the denomin a the sum of the expect score receiv by all group-t people. hence, the two 
side of (3) and (5) can be view a repres the ratio of the sum of the expect score in the posit 
class of group t to the sum of the expect score in group t a a whole. (3) requir that γ1 = γ2; let u 
denot thi common valu by γ. 

now, we observ that γ = 1 correspond to a case in which the sum of the expect score in just the 
posit class of group t be equal to the sum of the expect score in all of group t. In thi case, it must 
be that all member of the neg class be assign to bin of score 0. If ani member of the posit 
class be assign to a bin of score 0, thi would violat the calibr condit (a); henc all member 
of the posit class be assign to bin of posit score. moreover, these bin of posit score contain 
no member of the neg class (sinc they’v all be assign to bin of score 0), and so again by the 
calibr condit (a), the member of the posit class be all assign to bin of score 1. finally, 
appli the calibr condit onc more, it follow that the member of the neg class all have 
featur vector σ with pσ = 0 and the member of the posit class all have featur vector σ with pσ = 1. 
hence, when γ = 1 we have perfect prediction. 

finally, we use our definit of γt a 
1 

µt 
n⊤t XV v, and the fact that γ1 = γ2 = γ to write (6) a 

1 

N1 − µ1 
(µ1 − γµ1) = 

1 

N2 − µ2 
(µ2 − γµ2) 

1 

N1 − µ1 
µ1(1− γ) = 

1 

N2 − µ2 
µ2(1− γ) 

µ1/n1 
1− µ1/n1 

(1− γ) = µ2/n2 
1− µ2/n2 

(1− γ) 

now, thi last equal impli that one of two thing must be the case. either 1 − γ = 0, in which case 
γ = 1 and we have perfect prediction; or 

µ1/n1 
1− µ1/n1 

= 
µ2/n2 

1− µ2/n2 
, 

in which case µ1/n1 = µ2/n2 and we have equal base rates. thi complet the proof of theorem 1.1. 

some comment on the connect to statist parity. earlier we note that condit (b) and (c) 
— the balanc condit for the posit and neg class — be quit differ from the requir of 
statist parity, which assert that the averag of the score over all member of each group be the same. 

11 



when the two group have equal base rates, then the risk assign that give the same score to everyon 
in the popul achiev statist pariti along with condit (a), (b), and (c). but when the two 
group do not have equal base rates, it be immedi to show that statist pariti be inconsist with both 
the calibr condit (a) and with the conjunct of the two balanc condit (b) and (c). To see 
the inconsist of statist pariti with the calibr condition, we take equat (1) from the proof 
above, sum the coordin of the vector on both sides, and divid by nt, the number of peopl in group t. 
statist pariti requir that the right-hand side of the result equat be the same for t = 1, 2, while 
the assumpt that the two group have unequ base rate impli that the left-hand side of the equat 
must be differ for t = 1, 2. To see the inconsist of statist pariti with the two balanc condit 
(b) and (c), we simpli observ that if the averag score assign to the posit class and to the neg 
class be the same in the two groups, then the averag of the score over all member of the two group 
cannot be the same provid they do not contain the same proport of positive-class and negative-class 
members. 

3 the approxim theorem 

In thi section we prove theorem 1.2. first, we must first give a precis specif of the approxim 
fair conditions: 

(1− ε)[n⊤t XV ]b ≤ [n⊤t px]b ≤ (1− ε)[n⊤t XV ]b (a’) 

(1− ε) 
( 

1 

N2 − µ2 

) 

n⊤t (I − P )xv ≤ 
( 

1 

N1 − µ1 

) 

n⊤t (I − P )xv ≤ (1 + ε) 
( 

1 

N2 − µ2 

) 

n⊤t (I − P )xv 

(b’) 

(1− ε) 
( 

1 

µ2 

) 

n⊤t pxv ≤ 
( 

1 

µ1 

) 

n⊤t pxv ≤ (1 + ε) 
( 

1 

µ2 

) 

n⊤t pxv (c’) 

for (b’) and (c’), we also requir that these hold when µ1 and µ2 be interchanged. 

We also specifi the approxim version of perfect predict and equal base rate in term of f(ε), which 
be a function that go to 0 a ε go to 0. 

• approxim perfect prediction. γ1 ≥ 1− f(ε) and γ2 ≥ 1− f(ε) 
• approxim equal base rates. |µ1/n1 − µ2/n2| ≤ f(ε) 

A brief overview of the proof of theorem 1.2 be a follows. It proce by first establish an approxim 
form of equat (1) above, which impli that the total expect score assign in each group be approxi- 
mate equal to the total size of the posit class. thi in turn make it possibl to formul approxim 
form of equat (3) and (4). when the base rate be close together, the approxim be too loos to 
deriv bound on the predict power; but thi be okay sinc in thi case we have approxim equal base 
rates. otherwise, when the base rate differ significantly, we show that most of the expect score must be 
assign to the posit class, give u approxim perfect prediction. 

the remaind of thi section provid the full detail of the proof. 

total score and the number of peopl in the posit class. first, we will show that the total score for 
each group be approxim µt, the number of peopl in the posit class. defin µ̂t = n⊤t xv. use (a’), 

12 



we have 

µ̂t = n 
⊤ 
t Xv 

= n⊤t XV e 

= 

B 
∑ 

b=1 

[n⊤t px]b 

≤ (1 + ε) 
B 
∑ 

b=1 

[n⊤t px]b 

= (1 + ε)n⊤t pxe 

= (1 + ε)µt 

similarly, we can low bound µ̂t a 

µ̂t = 

B 
∑ 

b=1 

[n⊤t px]b 

≥ (1− ε) 
B 
∑ 

b=1 

[n⊤t px]b 

= (1− ε)µt 

combin these, we have 
(1− ε)µt ≤ µ̂t ≤ (1 + ε)µt. (7) 

the portion of the score receiv by the posit class. We can use (c’) to show that γ1 ≈ γ2. recal 
that γt, the averag of the expect score assign to member of the posit class in group t, be defin a 
γt = 

1 
µt 
ntpxv. then, it follow trivial from (c’) that 

(1− ε)γ2 ≤ γ1 ≤ (1 + ε)γ2. (8) 

the relationship between the base rates. We can appli thi to (b’) to relat µ1 and µ2, use the obser- 
vation that the score not receiv by peopl of the posit class must fall instead to peopl of the neg 
class. examin the left inequ of (b’), we have 

(1− ε) 
( 

1 

N2 − µ2 

) 

n⊤t (I − P )xv = (1− ε) 
( 

1 

N2 − µ2 

) 

(n⊤t Xv − n⊤t pxv) 

= (1− ε) 
( 

1 

N2 − µ2 

) 

(µ̂2 − γ2µ2) 

≥ (1− ε) 
( 

1 

N2 − µ2 

) 

((1− ε)µ2 − γ2µt) 

= (1− ε) 
( 

µ2 
N2 − µ2 

) 

(1− ε− γ2) 

≥ (1− ε) 
( 

µ2 
N2 − µ2 

)( 

1− ε− γ1 
1− ε 

) 

= (1− 2ε+ ε2 − γ1) 
( 

µ2 
N2 − µ2 

) 

13 



thus, the left inequ of (b’) becom 

(1− 2ε+ ε2 − γ1) 
( 

µ2 
N2 − µ2 

) 

≤ 
( 

1 

N1 − µ1 

) 

n⊤t (I − P )xv (9) 

By definition, µ̂1 = n⊤t Xv and γtµt = n 
⊤ 
t pxv, so thi becom 

(1− 2ε+ ε2 − γ1) 
( 

µ2 
N2 − µ2 

) 

≤ 
( 

1 

N1 − µ1 

) 

(µ̂1 − γ1µ1) (10) 

If the base rate differ. let ρ1 and ρ2 be the respect base rates, i.e. ρ1 = µ1/n1 and ρ2 = µ2/n2. 
assum that ρ1 ≤ ρ2 (otherwis we can switch µ1 and µ2 in the abov analysis), and assum toward 
contradict that the base rate differ by at least 

√ 
ε, mean ρ1 + 

√ 
ε < ρ2. use (10), 

ρ1 + 
√ 
ε 

1− ρ1 = 
√ 
ε 
≤ ρ2 

1− ρ2 

≤ 
( 

1 + ε− γ1 
1− 2ε+ ε2 − γ1 

)( 

ρ1 
1− ρ1 

) 

(ρ1 + 
√ 
ε)(1− ρ1)(1− 2ε+ ε2 − γ1) ≤ ρ1(1− ρ1 − 

√ 
ε)(1 + ε− γ1) 

(ρ1 + 
√ 
ε)(1 − ρ1)(1− 2ε) − ρ1(1− ρ1 − 

√ 
ε)(1 + ε) ≤ γ1 

[ 

(ρ1 + 
√ 
ε)(1 − ρ1)− ρ1(1− ρ1 − 

√ 
ε) 
] 

ρ1[(1 − ρ1)(1− 2ε) − (1− ρ1 − 
√ 
ε)(1 + ε)] + 

√ 
ε(1− ρ1)(1− 2ε) ≤ γ1[ 

√ 
ε(1− ρ1) + 

√ 
ερ1] 

ρ1(−2ε+ 2ερ1 − ε+ ερ1 + 
√ 
ε+ ε 

√ 
ε) + 

√ 
ε(1− 2ε − ρ1 + 2ερ1) ≤ γ1 

√ 
ε 

ρ1(−3ε+ 3ερ1 + 
√ 
ε+ ε 

√ 
ε− 

√ 
ε+ 2ε 

√ 
ε) + 

√ 
ε(1− 2ε) ≤ γ1 

√ 
ε 

ερ1(−3 + 3ρ1 + 3 
√ 
ε) + 

√ 
ε(1− 2ε) ≤ γ1 

√ 
ε 

3ερ1(−1 + ρ1) + 
√ 
ε(1− 2ε) ≤ γ1 

√ 
ε 

1− 2ε− 3 
√ 
ερ1(1− ρ1) ≤ γ1 

1− 
√ 
ε 

( 

2 
√ 
ε+ 

3 

4 

) 

≤ γ1 

recal that γ2 ≥ γ1(1− ε), so 

γ2 ≥ (1− ε)γ1 

≥ (1− ε) 
( 

1− 
√ 
ε 

( 

2 
√ 
ε+ 

3 

4 

)) 

≥ 1− ε− 
√ 
ε 

( 

2 
√ 
ε+ 

3 

4 

) 

= 1− 
√ 
ε 

( 

3 
√ 
ε+ 

3 

4 

) 

let f(ε) = 
√ 
εmax(1, 3 

√ 
ε+ 3/4). note that we assum that ρ1 and ρ2 differ by an addit 

√ 
ε ≤ f(ε). 

therefor if the ε-fair condit be met and the base rate be not within an addit f(ε), then γ1 ≥ 
1− f(ε) and γ2 ≥ 1− f(ε). thi complet the proof of theorem 1.2. 

4 reduc loss with equal base rate 

In a risk assignment, we would like a much of the score a possibl to be assign to member of the 
posit class. with thi in mind, if an individu receiv a score of v, we defin their individu loss to 

14 



be v if they belong to the neg class, and 1 − v if they belong to the posit class. the loss of the risk 
assign in group t be then the sum of the expect individu loss to each member of group t. In term 
of the matrix-vector product use in the proof of theorem 1.1, one can show that the loss for group t may 
be write a 

ℓt(x) = n 
⊤ 
t (I − P )xv + (µt − n⊤t pxv) 

= 2(µt − n⊤t pxv), 

and the total loss be just the weight sum of the loss for each group. 

now, let u say that a fair assign be one that satisfi our three condit (a), (b), and (c). As note 
above, when the base rate in the two group be equal, the set of fair assign be non-empty, sinc the 
calibr risk assign that place everyon in a singl bin be fair. We can therefor ask, in the case of 
equal base rates, whether there exist a fair assign whose loss be strictli less than that of the trivial 
one-bin assignment. It be not hard to show that thi be possibl if and onli if there be ani assign use 
more than one bin; we will call such an assign a non-trivi assignment. 

note that the assign that minim loss be simpli the one that assign each σ to a separ bin with 
a score of pσ, mean X be the ident matrix. while thi assignment, which we refer to a the ident 
assign I , be well-calibrated, it may violat fair condit (b) and (c). It be not hard to show that 
the loss for ani other assign be strictli great than the loss for I . As a result, unless the ident 
assign happen to be fair, everi fair assign must have larg loss than that of I , forc a tradeoff 
between perform and fairness. 

4.1 character of well-calibr solut 

To good understand the space of feasibl solutions, suppos we drop the fair condit (b) and (c) for 
now and studi risk assign that be simpli well-calibrated, satisfi (a). As in the proof of theorem 
1.1, we write γt for the averag of the expect score assign to member of the posit class in group t, 
and we defin the fair differ to be γ1−γ2. If thi be nonnegative, we say the risk assign weakli 
favor group 1; if it be nonpositive, it weakli favor group 2. sinc a risk assign be fair if and onli if 
γ1 = γ2, it be fair if and onli if the fair differ be 0. 

We wish to character when non-trivi fair risk assign be possible. first, we observ that without 
the fair requirements, the set of possibl fair differ under well-calibr assign be an 
interval. 

lemma 4.1 If group 1 and group 2 have equal base rates, then for ani two non-trivi well-calibr 
risk assign with fair differ d1 and d2 and for ani d3 ∈ [d1, d2], there exist a non-trivi 
well-calibr risk assign with fair differ d3. 

proof: the basic idea be that we can effect take convex combin of well-calibr assign 
to produc ani well-calibr assign “in between” them. We carri thi out a follows. 

let x(1) and x(2) be the alloc matrix for assign with fair differ d1 and d2 respectively, 
where d1 < d2. choos λ such that λd1 + (1 − λ)d2 = d3, mean λ = (d2 − d3)/(d2 − d1). then, 
x(3) = [λx(1) (1− λ)x(2)] be a nontrivi well-calibr assign with fair differ d3. 
first, we observ that x(3) be a valid assign becaus each row sum to 1 (mean everyon from everi 
σ get assign to a bin), sinc each row of λx(1) sum to λ and each row of (1− λ)x(2) sum to (1− λ). 

15 



moreover, it be nontrivi becaus everi nonempti bin creat by x(1) and x(2) be a nonempti bin under 
x(3). 

let v(1) and v(2) be the respect bin label for assign x(1) and x(2). defin v(3) = 

[ 

v(1) 

v(2) 

] 

. 

finally, let V (3) = diag(v(3)). defin V (1) and V (2) analogously. note that V (3) = 

[ 

V (1) 0 

0 V (2) 

] 

. 

We observ that x(3) be calibr becaus 

n⊤t PX 
(3) = n⊤t P [λx 

(1) (1− λ)x(2)] 
= [λn⊤t PX 

(1) (1− λ)n⊤t px(2)] 
= [λn⊤t X 

(1)v (1) (1− λ)n⊤t x(2)v (2)] 
= n⊤t [λx 

(1) (1− λ)x(2)]v (3) 

= n⊤t X 
(3)v (3) 

finally, we show that the fair differ be d3. let γ 
(1) 
1 and γ 

(1) 
2 be the portion of the total expect 

score receiv by the posit class from each group respectively. defin γ(2)1 , γ 
(2) 
2 , γ 

(3) 
1 , γ 

(3) 
2 similarly. 

γ 
(3) 
1 − γ 

(3) 
2 = 

1 

µ 
n⊤1 PX 

(3)v(3) − 1 
µ 
n⊤2 PX 

(3)v(3) 

= 
1 

µ 
(n⊤1 − n⊤2 )px(3)v(3) 

= 
1 

µ 
(n⊤1 − n⊤2 )P [λx(1)v(1) (1− λ)x(2)v(2)] 

= 
1 

µ 
(λ(n⊤1 − n⊤2 )px(1)v(1) + (1− λ)(n⊤1 − n⊤2 )x(2)v(2)]) 

= λ(γ 
(1) 
1 − γ 

(1) 
2 ) + (1− λ)(γ 

(2) 
1 − γ 

(2) 
2 ) 

= λd1 + (1− λ)d2 
= d3 

corollari 4.2 there exist a non-trivi fair assign if and onli if there exist non-trivi well-calibr 
assign x(1) and x(2) such that x(1) weakli favor group 1 and x(2) weakli favor group 2. 

proof: If there be a non-trivi fair assignment, then it weakli favor both group 1 and group 2, prove 
one direction. 

To prove the other direction, observ that the fair differ d1 and d2 of x(1) and x(2) be nonneg 
and nonposit respectively. sinc the set of fair differ achiev by non-trivi well-calibr 
assign be an interv by lemma 4.1, there exist a non-trivi well-calibr assign with fair 
differ 0, mean there exist a non-trivi fair assignment. 

It be an open question whether there be a polynomial-tim algorithm to find a fair assign of minimum 
loss, or even to determin whether a non-trivi fair solut exists. 

16 



4.2 np-complet of non-trivi integr fair risk assign 

As discuss in the introduction, risk assign in our model be allow to split peopl with a give 
featur vector σ over sever bins; however, it be also of interest to consid the special case of integr risk 
assignments, in which all peopl with a give featur σ must go to the same bin. for the case of equal base 
rates, we can show that determin whether there be a non-trivi integr fair assign be np-complete. 
the proof us a reduct from the subset sum problem and be give in the appendix. 

the basic idea of the reduct be a follows. We have an instanc of subset sum with number w1, . . . , wm 
and a target number T ; the question be whether there be a subset of the wi’ that sum to T . As before, γt 
denot the averag of the expect score receiv by member of the posit class in group t. We first 
ensur that there be exactli one non-trivi way to alloc the peopl of group 1, allow u to control 
γ1. the fair condit then requir that γ2 = γ1, which we can use to encod the target valu in the 
instanc of subset sum. for everi input number wi in the subset sum instance, we creat pσ2i−1 and pσ2i , 
close to each other in valu and far from all other pσ values, such that group σ2i−1 and σ2i togeth into 
a bin correspond to choos wi for the subset, while not group them correspond to not take wi. thi 
ensur that group 2 can be assign with the correct valu of γ2 if and onli if there be a solut to the 
subset sum instance. 

5 conclus 

In thi work we have formal three fundament condit for risk assign to individuals, each of 
which have be propos a a basic measur of what it mean for the risk assign to be fair. our main 
result show that except in highli constrain special cases, it be not possibl to satisfi these three constraint 
simultaneously; and moreover, a version of thi fact hold in an approxim sens a well. 

sinc these result hold regardless of the method use to comput the risk assignment, it can be phrase 
in fairli clean term in a number of domain where the trade-off among these condit do not appear to 
be well-understood. To take one simpl example, suppos we want to determin the risk that a person be a 
carrier for a diseas X, and suppos that a high fraction of woman than men be carriers. then our result 
impli that in ani test design to estim the probabl that someon be a carrier of X, at least one of the 
follow undesir properti must hold: (a) the test’ probabl estim be systemat skew 
upward or downward for at least one gender; or (b) the test assign a high averag risk estim to healthi 
peopl (non-carriers) in one gender than the other; or (c) the test assign a high averag risk estim to 
carrier of the diseas in one gender than the other. the point be that thi trade-off among (a), (b), and (c) 
be not a fact about medicine; it be simpli a fact about risk estim when the base rate differ between two 
groups. 

finally, we note that our result suggest a number of interest direct for further work. first, when 
the base rate between the two underli group be equal, our result do not resolv the comput 
tractabl of find the most accur risk assignment, subject to our three fair conditions, when the 
peopl with a give featur vector can be split across multipl bins. (our np-complet result appli 
onli to the case in which everyon with a give featur vector must be assign to the same bin.) second, 
there may be a number of set in which the cost (social or otherwise) of fals posit may differ greatli 
from the cost of fals negatives. In such cases, we could imagin search for risk assign that satisfi 
the calibr condit togeth with onli one of the two balanc conditions, correspond to the class for 
whom error be more costly. determin when two of our three condit can be simultan satisfi 
in thi way be an interest open question. more broadly, determin how the trade-off discuss here can 

17 

lphilipp 
text surligné 



be incorpor into broader famili of propos fair condit suggest interest avenu for futur 
research. 

refer 

[1] propublica analysis. https://docs.google.com/document/d/1pktyl8xmjh7z09lxkb70n6fa2fiitd7ydbxgct wcxs/edit?pref=2&pli=1. 

[2] julia angwin, jeff larson, surya mattu, and lauren kirchner. machin bias: there’ softwar use 
across the countri to predict futur criminals. and it’ bia against blacks. propublica, may 23, 
2016. https://www.propublica.org/article/machine-bias-risk-assessments-in-criminal-sentencing. 

[3] solon baroca and andrew D selbst. big data’ dispar impact. california law review, 104, 2016. 

[4] toon calder and sicco verwer. three naiv bay approach for discrimination-fre classification. 
data mine and knowledg discovery, 21(2):277–292, 2010. 

[5] alexandra chouldechova. fair predict with dispar impact: A studi of bia in recidiv predic- 
tion instruments. arxiv preprint arxiv:1610.07524, octob 2016. 

[6] sam corbett-davies, emma pierson, avi feller, and sharad goel. A comput program use for bail 
and sentenc decis be label bia against blacks. it actual not that clear. washington post, 
octob 7, 2016. 

[7] sam corbett-davies, emma pierson, avi feller, sharad goel, and aziz huq. fair algorithm and the 
equal treatment principle. work paper, to appear. 

[8] cynthia S. crowson, elizabeth J. atkinson, and terri M. therneau. assess calibr of prognos- 
tic risk scores. statist method in medic research, 25(4):1692–1706, 2016. 

[9] amit datta, michael carl tschantz, and anupam datta. autom experi on ad privaci settings. 
proceed on privaci enhanc technologies, 2015(1):92–112, 2015. 

[10] william dieterich, christina mendoza, and tim brennan. compa risk scales: demon- 
strate accuraci equiti and predict parity. technic report, northpointe, juli 2016. 
http://www.northpointeinc.com/northpointe-analysis. 

[11] cynthia dwork, moritz hardt, toniann pitassi, omer reingold, and richard S. zemel. fair 
through awareness. In innov in theoret comput scienc 2012, cambridge, ma, usa, 
januari 8-10, 2012, page 214–226, 2012. 

[12] michael feldman, sorel A. friedler, john moeller, carlo scheidegger, and suresh venkatasubrama- 
nian. certifi and remov dispar impact. In proceed of the 21th acm sigkdd interna- 
tional confer on knowledg discoveri and data mining, kdd ’15, page 259–268, new york, 
ny, usa, 2015. acm. 

[13] anthoni flores, christoph lowenkamp, and kristin bechtel. fals positives, fals negatives, and 
fals analyses: A rejoind to “machin bias: there softwar use across the countri to predict futur 
criminals. and it bia against blacks.”. technic report, crime & justic institute, septemb 2016. 
http://www.crj.org/cji/entry/false-positives-false-negatives-and-false-analyses-a-rejoinder. 

[14] dean P. foster and rakesh V. vohra. asymptot calibration. biometrika, 85(2):379–390, 1998. 

18 

https://docs.google.com/document/d/1pktyl8xmjh7z09lxkb70n6fa2fiitd7ydbxgct_wcxs/edit?pref=2&pli=1 


[15] sorel A friedler, carlo scheidegger, and suresh venkatasubramanian. On the (im) possibl of 
fairness. arxiv preprint arxiv:1609.07236, septemb 2016. 

[16] howard N. garb. race bias, social class bias, and gender bia in clinic judgment. clinic psychol- 
ogy: scienc and practice, 4(2):99–120, 1997. 

[17] abe gong. ethic for power algorithm (1 of 4). medium, juli 12, 2016. 
https://medium.com/@abegong/ethics-for-powerful-algorithms-1-of-3-a060054efd84#.dhsd2ut3i. 

[18] sara hajian and josep domingo-ferrer. A methodolog for direct and indirect discrimin pre- 
vention in data mining. ieee transact on knowledg and data engineering, 25(7):1445–1459, 
2013. 

[19] moritz hardt, eric price, and nathan srebro. equal of opportun in supervis learning. In 
advanc in neural inform process systems, 2016. 

[20] matthew joseph, michael kearns, jami morgenstern, and aaron roth. fair in learning: classic 
and contextu bandits. In advanc in neural inform process systems, 2016. 

[21] faisal kamiran and toon calders. classifi without discriminating. 2009 2nd intern con- 
ferenc on computer, control and communication, ic4 2009, 2009. 

[22] toshihiro kamishima, shotaro akaho, and jun sakuma. fairness-awar learn through regulariza- 
tion approach. proceed - ieee intern confer on data mining, icdm, page 643–650, 
2011. 

[23] jeff larson, surya mattu, lauren kirchner, and julia angwin. how we analyz the compa recidi- 
vism algorithm. propublica, may 23, 2016. https://www.propublica.org/article/how-we-analyzed-the- 
compas-recidivism-algorithm. 

[24] execut offic of the president. big data: A report on algorithm systems, opportunity, and civil 
rights. technic report, may 2016. 

[25] andrea romei and salvator ruggieri. A multidisciplinari survey on discrimin analysis. the 
knowledg engin review, 29(05):582–638, 2014. 

[26] latanya sweeney. discrimin in onlin ad delivery. commun of the acm, 56(5):44–54, 
2013. 

[27] david R. william and selina A. mohammed. discrimin and racial dispar in health: evid 
and need research. J. med. behav., 32(1), 2009. 

[28] muhammad bilal zafar, isabel valera, manuel gomez rodriguez, and krishna gummadi. learn 
fair classifiers. arxiv preprint arxiv:1507.05259, 2015. 

[29] richard S zemel, Yu wu, kevin swersky, toniann pitassi, and cynthia dwork. learn fair rep- 
resentations. proceed of the 30th intern confer on machin learning, 28:325–333, 
2013. 

[30] indr zliobaite. A survey on measur indirect discrimin in machin learning. arxiv preprint 
arxiv:1511.00148, 2015. 

19 



appendix: np-complet of non-trivi integr fair risk assign 

We can reduc to the integr assign problem, parameter by a1σ, a2σ , and pσ, from subset sum a 
follows. 

suppos we have an instanc of the subset sum problem specifi by m number w1, . . . , wm and a target 
T ; the goal be to determin whether a subset of the wi add up to T . We creat an instanc of the integr 
assign problem with σ1, . . . , σ2m+2. a1,σi = 1/2 if i ∈ {2m + 1, 2m + 2} and 0 otherwise. a2,σi = 
1/(2m) if i ≤ 2m and 0 otherwise. We make the follow definitions: 

ŵi = wi/(tm 
4) 

εi = 
√ 

ŵi/2 

pσ2i−1 = i/(m+ 1)− εi (1 ≤ i ≤ m) 
pσ2i = i/(m+ 1) + εi (1 ≤ i ≤ m) 

γ = 1/m 

2m 
∑ 

i=1 

p2σi − 1/m 
5 

pσ2m+1 = (1− 
√ 

2γ − 1)/2 
pσ2m+2 = (1 + 

√ 

2γ − 1)/2 

with thi definition, the subset sum instanc have a solut if and onli if the integr assign instanc 
give by a1,σ, a2,σ, pσ1 , . . . , pσ2m+2 have a solution. 

befor we prove this, we need the follow lemma. 

lemma 5.1 for ani z1, . . . , zk ∈ R, 

k 
∑ 

i=1 

z2i − 
1 

k 

( 

m 
∑ 

i=1 

zi 

)2 

= 
1 

k 

k 
∑ 

i<j 

(zi − zj)2 

proof: 

k 
∑ 

i=1 

z2i − 
1 

k 

( 

m 
∑ 

i=1 

zi 

)2 

= 

k 
∑ 

i=1 

z2i − 
1 

k 

 

 

k 
∑ 

i=1 

z2i + 2 

k 
∑ 

i<j 

zizj 

 

 

= 
k − 1 
k 

k 
∑ 

i=1 

z2i − 
2 

k 

k 
∑ 

i<j 

zizj 

= 
1 

k 

k 
∑ 

i<j 

(z2i + z 
2 
j )− 

2 

k 

k 
∑ 

i<j 

zizj 

= 
1 

k 

k 
∑ 

i<j 

z2i − 2zizj + z2j 

= 
1 

k 

k 
∑ 

i<j 

(zi − zj)2 

20 



now, we can prove that the integr assign problem be np-hard. 

proof: first, we observ that for ani nontrivi solut to the integr assign instance, there must 
be two bin b 6= b′ such that xσ2m+1,b = 1 and xσ2m+2,b′ = 1. In other words, the peopl with σ2m+1 
and σ2m+2 must be split up. If not, then all the peopl of group 1 would be in the same bin, mean that 
bin must be label with the base rate ρ1 = 1/2. In order to maintain fairness, the same would have to 
be do for all the peopl of group 2, result in the trivial solution. moreover, b and b′ must be label 
(1±√2γ − 1)/2 respect becaus those be the fraction of peopl of group 1 in those bin who belong 
to the posit class. 

thi mean that γ1 = 1/ρ · (a1,σ2m+1p2σ2m+1 + a1,σ2m+2p2σ2m+2) = p2σ2m+1 + p2σ2m+2 = γ a defin above. 
We know that a well-calibr assign be fair onli if γ1 = γ2, so we know γ2 = γ. 

next, we observ that ρ2 = ρ1 = 1/2 becaus all of the posit a2,σ’ be 1/(2m), so ρ2 be just the averag 
of {pσ1 , . . . , pσ2m}, which be 1/2 by symmetry. 
let Q be the partit of [2m] correspond to the assignment, mean that for a give q ∈ Q, there be a 
bin bq contain all peopl with σi such that i ∈ q. the label on that bin be 

vq = 

∑ 

i∈q a2,σipσi 
∑ 

i∈q a2,σi 

= 
1/(2m) 

∑ 

i∈q pσi 
|q|/(2m) 

= 
1 

|q| 
∑ 

i∈q 

pσi 

furthermore, bin bq contain 
∑ 

i∈q a2,σipσi = 1/(2m) 
∑ 

i∈q pσi posit fraction. use this, we can come 
up with an express for γ2. 

γ2 = 
1 

ρ 

∑ 

q∈q 

 

vb · 
1 

2m 

∑ 

i∈q 

pσi 

 

 

= 
1 

m 

∑ 

q∈q 

1 

|q| 

 

 

∑ 

i∈q 

pσi 

 

 

2 

set thi equal to γ, we have 

1 

m 

∑ 

q∈q 

1 

|q| 

 

 

∑ 

i∈q 

pσi 

 

 

2 

= 
1 

m 

2m 
∑ 

i=1 

p2σi − 
1 

m5 

∑ 

q∈q 

1 

|q| 

 

 

∑ 

i∈q 

pσi 

 

 

2 

= 

2m 
∑ 

i=1 

p2σi − 
1 

m4 

subtract both side from 
∑2m 

i=1 p 
2 
σi 

and use lemma 5.1, we have 

∑ 

q∈q 

1 

|q| 
∑ 

i<j∈q 

(pσi − pσj)2 = 
1 

m4 
(11) 

21 



thus, Q be a fair nontrivi assign if and onli if (11) holds. 

next, we show that there exist Q that satisfi (11) if and onli if there there exist some S ⊆ [m] such that 
∑ 

i∈ ŵi = 1/m 
4. 

assum Q satisfi (11). then, we first observ that ani q ∈ Q must either contain a singl i, mean 
it do not contribut to the left hand side of (11), or q = {2i − 1, 2i} for some i. To show this, observ 
that the closest two element of {pσ1 , . . . , pσ2m} not of the form {pσ2i−1 , pσ2i} must be some {pσ2i , pσ2i+1}. 
however, we find that 

(pσ2i+1 − pσ2i)2 = 
( 

i+ 1 

m+ 1 
− εi+1 − 

( 

i 

m+ 1 
+ εi 

))2 

= 

( 

1 

m+ 1 
− εi+1 − εi 

)2 

= 

( 

1 

m+ 1 
− 
√ 

ŵi+1 
2 

− 
√ 

ŵi 
2 

)2 

≥ 
( 

1 

m+ 1 
− 
√ 

2 

m4 

)2 

(ŵi ≤ 1/m4) 

= 

( 

1 

m+ 1 
− 

√ 
2 

m2 

)2 

≥ 
( 

1 

2m 
− 

√ 
2 

m2 

)2 

= 

( 

m− 2 
√ 
2 

2m2 

)2 

≥ 
( m 

4m2 

)2 

= 

( 

1 

4m 

)2 

= 
1 

16m2 

If ani q contain ani j, k not of the form 2i− 1, 2i, then (11) will have a term on the left hand side at least 
1/m · 1/(16m2) = 1/(16m3) > 1/m4 for larg enough m, and sinc there can be no neg term on the 
left hand side, thi immedi make it imposs for Q to satisfi (11). 

consid everi 2i − 1, 2i ∈ [2m]. let qi = {2i − 1, 2i}. As show above, either qi ∈ Q or {2i − 1} ∈ Q 
and {2i} ∈ Q. In the latter case, neither pσ2i−1 nor pσ2i contribut to (11). If qi ∈ Q, then qi contribut 
1/2(pσ2i−pσ2i−1 ) 

2 = 1/2(2εi) 
2 = ŵi to the overal sum on the left hand side. therefore, we can write the 

left hand side of (11) a 

∑ 

q∈q 

1 

|q| 
∑ 

i<j∈q 

(pσi − pσj )2 = 
∑ 

qi∈q 

1 

2 
(pσ2i−pσ2i−1 ) 

2 = 
∑ 

qi∈q 

ŵi = 
1 

m4 

then, we can build a solut to the origin subset sum instanc a S = {i : qi ∈ q}, give u 
∑ 

i∈ ŵi = 
1 
m4 

. multipli both side by tm4, we get 
∑ 

i∈ wi = T , mean S be a solut for the subset sum 
instance. 

22 



To prove the other direction, assum we have a solut S ⊆ [m] such that ∑i∈ wi = T . divid both 
side by tm4, we get 

∑ 

i∈ ŵi = 1/m 
4. We build a partit Q of 2m by start with the empti set and 

add qi = {2i− 1, 2i} to Q if i ∈ S and {2i− 1} and {2i} to Q otherwise. clearly, each element of [2m] 
appear in Q at most once, make thi a valid partition. moreover, when check to see if (11) be satisfi 
(which be true if and onli if Q be a fair assignment), we can ignor all q ∈ Q such that |q| = 1 becaus they 
don’t contribut to the left hand side. since, we again have 

∑ 

q∈q 

1 

|q| 
∑ 

i<j∈q 

(pσi − pσj )2 = 
∑ 

qi∈q 

1 

2 
(pσ2i−pσ2i−1 ) 

2 = 
∑ 

qi∈q 

ŵi = 
1 

m4 

mean Q be a fair assignment. thi complet the reduction. 

We have show that the integr assign problem be np-hard, and it be clearli in NP becaus give an 
integr assignment, we can verifi in polynomi time whether such an assign satisfi the condit 
(a), (b), and (c). thus, the integr assign problem be np-complete. 

23 


1 introduct 
1.1 formul the goal 
1.2 determin what be achievable: A character theorem 
1.3 further relat work 

2 the character theorem 
3 the approxim theorem 
4 reduc loss with equal base rate 
4.1 character of well-calibr solut 
4.2 np-complet of non-trivi integr fair risk assign 

5 conclus 

