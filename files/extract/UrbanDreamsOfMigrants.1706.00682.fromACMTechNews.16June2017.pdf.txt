




















































Urban Dreams of Migrants


Urban Dreams of Migrants
A Case Study of Migrant Integration in Shanghai

*Work in progress

Yang Yang
Zhejiang University
yangya@zju.edu.cn

Chenhao Tan
University of Washington
chenhao@chenhaot.com

Zongtao Liu
Zhejiang University

tomstream@zju.edu.cn

Fei Wu
Zhejiang University
wufei@cs.zju.edu.cn

Yueting Zhuang
Zhejiang University
yzhuang@zju.edu.cn

ABSTRACT
An unprecedented human mobility has driven the rapid urban-
ization around the world. In China, the fraction of population
dwelling in cities increased from 17.9% to 52.6% between 1978 and
2012. Such large-scale migration poses both signicant challenges
for policymakers and important questions for researchers.

To investigate the process of migrant integration, we employ
a one-month complete dataset of telecommunication metadata in
Shanghai with 54 million users and 698 million call logs. We nd
systematic dierences between locals and migrants in their mobile
communication networks and geographical locations. For instance,
migrants have more diverse contacts and move around the city with
a larger radius than locals aer they sele down. By distinguishing
new migrants (who recently moved to Shanghai) from seled mi-
grants (who have been in Shanghai for a while), we demonstrate
the integration process of new migrants in their rst three weeks.
Moreover, we formulate classication problems to predict whether
a person is a migrant. Our classier is able to achieve an F1-score
of 0.82 when distinguishing seled migrants from locals, but it
remains challenging to identify new migrants because of class im-
balance. Yet we show that an increasing fraction of new migrants
is classied as locals week by week.

KEYWORDS
urban migrants, migrant integration, mobile communication net-
works, geographical locations

1 INTRODUCTION
In a big city like L.A. you can spend a lot of time surrounded by

hundreds of people yet you feel like an alien or a ghost or something.
— Morley

Millions of people migrate to cities to realize their urban dreams,
ranging from pursuing potential job opportunities to embracing an
open dynamic culture [28]. ese migrants contribute to the pros-
perity of cities by constituting a substantial part of the workforce
in the cities, strengthening the political and economic status of the
cities, and bringing diverse cultures to the cities.

Despite the great benets brought by migration, policymakers
and scholars have well recognized that the fast rate of migration

poses great challenges [3, 28]. Segregation and social inequality
have become signicant issues in the migration process. For in-
stance, migrants may sele in slums with health hazards [6]; they
tend to be overworked but underpaid [39]; their children may be
excluded from schools [19]. ese problems might be even more
salient in China, a developing country with an unprecedented speed
of urbanization [3]. It is thus an important research question to
understand how migrants integrate into a city.

Furthermore, the life of migrants is in constant ux. Some mi-
grants may eventually sele down in the city, while others may go
back to their hometown or dri to another city. is process resem-
bles users’ behavior in online communities [2, 12, 13, 27, 33, 45], but
presents more complex dynamics because moving oine requires
considerably more eorts. Accurate modeling and prediction of
migrant integration can potentially inform urban policymaking.

In this work, we are interested in two central components of
migrant integration: the locations where a migrant lives and moves
around, and the people that a migrant interacts with and befriend.
First, because cities are divided into neighborhoods with varying
characteristics, there may exist systematic dierences between
locals and migrants in where they live. For example, Figure 1 shows
the geographical distributions of locals and migrants compared
to the overall average in Shanghai. Somewhat surprisingly, locals
are more active in the periphery of the city, whereas migrants
relatively concentrate in the center of Shanghai. is observation
echoes previous ndings that existing residents ee from central
cities, known as “white ight” [17]. It yet remains an open question
how migrants’ active areas evolve as they integrate into the city.

Another important aspect of migrant integration is how mi-
grants build their personal networks. As humans are social animals,
whether a migrant can successfully develop a personal network is
crucial in her integration process [20]. In particular, Yue et al. [53]
show that migrant-resident ties are signicantly associated with
migrant integration. However, it remains unclear how a migrant
makes initial friends and then slowly build a personal network in a
new city. It is also unknown what characteristics dierentiate the
social networks of migrants from those of locals.
Organization and highlights of this work. In order to investi-
gate the above two aspects, we conduct a case study of Shanghai,
one of the biggest cities in China, and present the rst large-scale
quantitative exploration of migrant integration. We employ a one-
month complete dataset of telecommunication metadata from China

ar
X

iv
:1

70
6.

00
68

2v
3 

 [
cs

.C
Y

] 
 8

 J
un

 2
01

7

lphilippe
Zone de texte 
For me, one month to judge change in migrant habits is clearly too short!!!!!



-7 -6 -5 -4 -3 -2 0

(a) Log overall average probability.

-0.5-0.25 0 0.25 0.5 0.75 1

(b) Log odds ratio for locals.

-0.5-0.25 0 0.25 0.5 0.75 1

(c) Log odds ratio for seled migrants.

-0.5-0.25 0 0.25 0.5 0.75 1

(d) Log odds ratio for new migrants.

Figure 1: Geographical distributions of locals, settled migrants (who have been in a new city for a while), and new migrants
(who recently moved to a new city) in Shanghai. Each person is represented by the center of their active areas (formal def-
initions will be presented in Section 3). Figure 1(a) shows the log probability of all users in each region and this probabil-
ity constitutes a comparison point for the other gures. Each of the right three gures shows the log odds ratio of each
group compared to the overall average in Figure 1(a), i.e., log Pgroup − log P , where P is the overall average in Figure 1(a) and
Pgroup, group ∈ {locals, seled migrants, new migrants} is the probability to fall in a region within that particular group of people.
Intuitively, a red region in the right three gures suggests that this group of people are disproportionally frequent in that
region. Settled migrants tend to be in the central part of the city, while locals are in the periphery. New migrants are similar
to settled migrants by and large, but have a few dark areas on the periphery. e darkest point in Figure 1(d) correspond to
Songjiang University Town, a hub of universities.

Telecom,1 which contains 698 million call logs between 54 million
mobile users in Shanghai. To identify a comparison point of mi-
grants, we dene locals as the persons that were born in Shanghai,
the counterpart of migrants. As migrants may undergo dierent
stages in their integration, we further dierentiate migrants that
have been in a new city for a while, seled migrants, from migrants
that recently moved to a new city, new migrants. We present details
of the dataset in Section 2.

First, we explore how locals, seled migrants, and new migrants
dier in their mobile communication networks and geographical
locations in Section 3. We nd interesting dierences between these
three groups. For instance, in terms of communication networks, a
substantial fraction of new migrants’ contacts are fellow townsmen,
people who were born in the same province. is paern suggests
that townsmen are essential for new migrants to build their initial
personal networks in a new city. Surprisingly, seled migrants
have an even higher fraction of townsman contacts, indicating that
they may have grown their townsman network as they stay longer
in Shanghai. In terms of locations, in addition to the dierences in
Figure 1, we nd that seled migrants tend to have a larger radius.

Second, we use the calling logs over dierent time periods to
give a brief dynamic view of the integration process in Section 4.
Despite the short time span, we observe that new migrants become
increasingly similar to seled migrants in most characteristics,
while features of seled migrants and locals tend to be stable over
time. is contrast suggests that the features that we employ can
indeed reect the integration process to some extent. Meanwhile,
we observe that the integration slows down in the nal week. One
possible explanation is that not all new migrants eventually become
1China Telecom Corporation is a Chinese state-owned telecommunication company
and the third largest mobile service providers in China.

seled migrants and the slow integration is due to the ones that
encounter diculty ing into the city. is hypothesis is worth
further investigation.

Finally, we formulate prediction tasks to distinguish migrants
from locals in Section 5. Using the features that we propose, we are
able to build a classier that signicantly outperforms the baselines
and achieve an F1-score of 0.82 on seled migrants, indicating
that it is not a dicult prediction task to separate seled migrants
from locals. We also observe that if we apply this classier to
new migrants, an increasing fraction of new migrants is classied
as locals over time. However, it remains challenging to identify
new migrants because the number of new migrants is very small
compared to seled migrants and locals.

Our work is a rst step towards understanding migrant integra-
tion and informing urban policymakers. is challenging problem
necessarily involves eorts from a wide range of disciplines, in-
cluding anthropology, computer science, economics, sociology and
urban planning. We thus provide an overview of related work on
this issue in Section 6 and oer some concluding discussions in
Section 7.

2 EXPERIMENTAL SETUP
In this section, we introduce our dataset and the framework that
we use to study mobile communication networks and geographical
information of locals and migrants.

2.1 Dataset
We use a dataset that contains complete telecommunication records
between mobile users using China Telecom in Shanghai, spanning
a month from September 3rd, 2016, to September 30th, 2016 (four



weeks). e data is provided by China Telecom, the third largest
mobile service provider in China. Our dataset consists of about 54
million users and 698 million call logs between them. A call log was
recorded as long as it was made in Shanghai and either the caller
or the callee was a user of China Telecom (some of the 54 million
users use other mobile services). Each call log contains the caller’s
number, the callee’s number, the starting time, and the ending
time. Since personal identication is required to obtain a mobile
number, we are able to retrieve personal aributes, including age,
sex, and birthplace, for users of China Telecom that opened their
accounts in Shanghai.2 In addition, we have the GPS location of the
corresponding telecommunications tower used during the call for
users of China Telecom, which roughly approximates the locations
of them. Our dataset was anonymized by China Telecom for privacy
concerns. roughout the paper, we report only average statistics
without revealing any identiable information of individuals.

2.2 Framework
We categorize users in our dataset into three groups based on their
birthplaces and this categorization constitutes the basis for our
computational framework. We refer to people that were born in
Shanghai as locals. e rest people who were not born in Shanghai
are migrants. To assess dierent stages of migrant integration,
we separate migrants that have no call logs in the rst week (new
migrants), from migrants that have at least one call log in the rst
week (seled migrants). We further require each local and seled
migrant to have call logs at every week, and each new migrant to
have call logs at each of the last three weeks, to make sure that these
users lived in Shanghai during our four-week span. We ltered
around 15, 000 users that have abnormally high degrees, who likely
corresponded to fraudsters, delivery persons, or customer services
according to a user type list provided by China Telecom. In the end,
we have 1.7M locals, 1.0M seled migrants, and 22K new migrants.
Mobile communication networks. One core component of our
study is a weekly mobile communication network based on the
call logs. Grouping by weeks allows us to account for variations
between weekdays and weekends. Formally, we build a directed
graphGt = (Vt ,Et ) for each week t (t ∈ {1, 2, 3, 4}), whereVt is the
set of users, and each directed edge ei j ∈ E indicates that vi calls
vj (vi ,vj ∈ Vt ). Note that only a subset of users inVt are labeled as
locals, seled migrants or new migrants (in total around 3 million
users). is subset is the focus of our study.
Geographical locations. Another component is the geographical
locations that a person is active at. Specically, for each call a person
makes, we have access to the GPS location from the corresponding
telecommunications tower. We use each week as a window and
collect all the locations that a person makes calls in that week,
and refer to this ordered list of locations for user v at week t as
Ltv = [l1, . . . , ln ], where li contains the latitude and the longitude.
We have geographical locations for the subset of users with labels
since they are all users of China Telecom by denition.

We will dene computational features based on these two com-
ponents in Section 3.

2We obtain a person’s birthplace using the personal identity card number.

Table 1: List of features in this paper. We view all directed
edges as undirected except inmeasuring reciprocal calls. For
demographics related features, we only include users for
whomwe have the corresponding information. In this work,
we use contacts and friends interchangeably.

Feature Description

Demographics of user v’s friends in Gt
similar-age e fraction of v’s friends that are at simi-

lar ages with v (±10 years).
same-sex e fraction ofv’s friends having the same

sex with v .
local e fraction of v’s friends who were born

in Shanghai.
townsmen e fraction of v’s friends that were born

in the same province with v but not in
Shanghai. is feature is always 0 for lo-
cals, so it is not included in prediction ex-
periments in Section 5.

Ego-network characteristics of user v in Gt
degree e number of v’s unique contacts.
weighted degree e number of calls v makes.
neighbor degree e average degree of v’s contacts.
CC Clustering coecient of v’s ego-network,

i.e., | {(s,t ) |(s,t )∈Et } |dv (dv−1) , where s and t are v’s
friends, and dv is v’s degree.

Call behavior in Gt
call duration v’s average call duration.
duration variance variance of v’s call duration.
province diversity Entropy of the distribution of birth

provinces among v’s contacts, dened as
−∑i pi log2 pi , where pi is the probability
that a contact of v was born in province i .

reciprocal call e probability that v’s contacts also call
v in week t .

Geographical features of v at week t
center e latitude and longitude of a user v’s

center of mass lCM, lCM = 1|Ltv |
∑
l ∈Ltv l .

max radius e maximal distance ofv from her center
of mass, i.e., maxl ∈Ltv |l − lCM |.

average radius e average distance of v from her center
of mass, i.e., 1|Ltv |

∑
l ∈Ltv |l − lCM |.

moving distance e total distance that v moves, i.e.,∑
i |li − li−1 |.

average distance e average distance that v moves, i.e.,
1
|Ltv |

∑
i |li − li−1 |.

3 LOCALS, SETTLED MIGRANTS, NEW
MIGRANTS

To understand how locals, seled migrants and new migrants dier
from each other, we examine a wide range of features from peo-
ple’s mobile communication networks and geographical locations.
To observe the fresh state of urban migrants without much inte-
gration, we use the data from the rst week that new migrants



similar-age same sex local townsmen
0.0

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8
locals

settled migrants

new migrants

(a) Demographics of friends.

degree weighted degree neighbor degree CC
0.0

0.1

0.2

0.3

0.4

0.5

0.6 locals

settled migrants

new migrants

(b) Ego-network characteristics.

call duration duration variance province diversity reciprocal calls
0.0

0.1

0.2

0.3

0.4

0.5

0.6

0.7
locals

settled migrants

new migrants

(c) Call behavior.

max radius average radius moving distance average distance
0.0

0.1

0.2

0.3

0.4

0.5
locals

settled migrants

new migrants

(d) Geographical features.

Figure 2: Feature comparison between locals, settled migrants and new migrants. Dierent colors represent dierent groups
of people. Since dierent features may end up in very dierent scales, we normalize each feature group in this gure so that
their means sum up to 1, except for demographics of contacts and fraction of reciprocal calls (they all naturally fall between
0 and 1). Error bars represent standard errors, and they are tiny.

joined China Telecom (week 2) in this section. We will focus on
the integration process in Section 4, in which we also show that
most features do not change for locals and seled migrants in fu-
ture weeks. Table 1 provides an overview of the features that we
consider. Demographics of users’ friends,3 ego-networks features,
and call behavior derive from the mobile communication networks,
while geographical features come from location information. In the
following, we will explain the motivation and related theories of
each feature.
Demographics of contacts (Figure 2(a)). A person’s mobile
communication network can reasonably approximate her social
network. Locals likely maintain very dierent social networks
from migrants since they have grown up in this city. Also, as a
person sele down in a new city, her social network may change
dramatically. Existing studies suggest that kin relationships play an
important role in determining the destination of migration [20] and
relationship with locals are crucial for migrant integration [32]. We
look at the demographics of contacts in age, sex, and birthplaces.
Homophily in sex and age. It is well recognized that people tend
to make friends with those who are similar to themselves, also

3Note that although we do not have demographics information for users using other
service providers, we have demographics information for a much larger set than the
ones labeled locals, seled migrants or new migrants because we require these users
to be active in each week.

known as homophily [34]. We observe interesting contrasts regard-
ing homophily of age and sex. Locals show the strongest homophily
in sex, i.e., locals have the largest fraction of contacts with the same
sex. Surprisingly, in terms of the absolute fraction, new migrants
have more contacts with a dierent sex than with the same sex
(only around 40%). In contrast, locals are less likely to have contacts
at similar ages than seled migrants, but more than new migrants.
Birthplaces. e most striking dierence lies in that around 70% of
a local person’s contacts are also locals. is number is much lower
for seled migrants, and the lowest for new migrants. Townsmen,
people who share the same hometown, are an important component
of a new migrant’s initial network (30% of new migrants’ contacts
are townsmen). is observation echoes existing ndings regarding
kin relationship. In comparison, seled migrants have an even
higher fraction of townsmen in their contacts, which suggests that
new migrants get to know more people from the same hometown
as they integrate into a city. ese observations are consistent with
homophily, but they also indicate that urban migrants maintain a
relatively separate personal network from locals.
Ego-network characteristics (Figure 2(b)). As expected, new
migrants have the smallest degree and weighted degree. However,
seled migrants tend to have the largest degree, larger than locals.
is indicates an interesting transition that migrants may undergo.
Maybe because of homophily, neighbors of seled migrants also



have the largest average degree, and neighbors of new migrants
have the smallest average degree.

Clustering coecient measures the fraction of triangles in the
ego-networks. It roughly reects how connected a person’s contacts
are to each other. Interestingly, new migrants present the largest
clustering coecient, while seled migrants have the lowest. It
may suggest that new migrants start with a close-knit group when
they move to a big city like Shanghai. Connecting with our previous
observations, this close-knit group tend to come from the same
province as the new migrants. It is worth noting that this could
also relate to that new migrants have the smallest ego-networks.
Calling behavior (Figure 2(c)). e duration of calls may reect
the nature of the relations between a person and her contacts. Calls
of long duration likely involve intimate relations or are driven by
substantial businesses, while calls of short duration tend to be quick
check-ins or relate to small incidences. Our data show that locals
and seled migrants have similar levels of average call duration,
much larger than new migrants. Similar trends show up in the
variance of call duration.

Regarding the diversity of provinces in a person’s contacts, set-
tled migrants have the most diverse group of contacts, while locals
have the lowest. is paern resonates with previous observations
that locals have about 70% of contacts that are also locals.

Finally, we nd that locals and seled migrants are more likely to
have reciprocal relationships with their contacts, while the fraction
of reciprocal calls is the lowest for new migrants. is again shows
that the personal networks of new migrants are still nascent. Note
that the dierence is much less dramatic than that in call duration.
Geographical patterns (Figure 2(d)). e mobility of people in
dierent groups can be reected by their locations over time. As
we have discussed in the introduction, both seled migrants and
new migrants tend to move around the central part of Shanghai,
while locals are more disproportionally frequent in the periphery.
Regarding the radius of a person’s movement around her own
center, we observe that seled migrants have the largest radius
both in terms of max radius and average radius. is suggests that
although new migrants start with a smaller active area than locals,
seled migrants move in an even larger area than locals.

Total moving distance is correlated with the total number of
calls that a person makes. We thus discover the same ordering as in
weighted degree. However, locals tend to move the most distance
between calls on average, while new migrants move the shortest
distance. is further suggests that new migrants have a smaller
active area than locals.
Summary. Comparing seled migrants to locals, we observe
that seled migrants have more active and diverse behavior pat-
terns both in mobile communication networks and in geographical
movements. Meanwhile, new migrants present dierent character-
istics from both seled migrants and locals. is suggests that new
migrants go through signicant changes in their communication
networks and geographical locations as they slowly sele down.

4 INTEGRATION OF NEWMIGRANTS
Given the dierences between locals, seled migrants and new
migrants that we have observed, we now investigate the integration
process of new migrants. Since a subset of new migrants eventually

locals > seled > new,
locals < seled < new

New migrants are moving towards lo-
cals and seled migrants are in the
middle of this process.

new > locals > seled,
new < locals < seled

New migrants move towards locals ini-
tially, but eventually move away from
them and remain dierent from locals
aer they sele down.

locals > new > seled,
locals < new < seled

Seled migrants and locals are dier-
ent, and new migrants never move to-
wards locals.

Table 2: All possible orderings of feature values between
locals, settled migrants, and new migrants and their corre-
sponding implications.

become seled migrants, we hypothesize that the features of new
migrants will grow more similar to those of seled migrants in
week 3 and week 4. Indeed, we nd that new migrants are slowly
“becoming” seled migrants in most features. Figure 3 presents
how some features of locals, seled migrants and new migrants
change over the four weeks (new migrants only moved to Shanghai
in week 2). Although existing studies have argued that dierent
generations of migrants can exhibit dierent characteristics [11, 37],
our observation shows that the features that we propose are robust
to generation dierences, or Shanghai is too young a city to observe
generation gaps from telecommunication records.

e more interesting comparison is with locals. One possible
way to evaluate migrant integration is whether they become more
similar to locals over time. Depending on how the features of locals
compare to new migrants and seled migrants, we can observe
several possible trajectories as shown in Table 2.

An ideal integration process suggests that new migrants become
more similar to locals, and seled migrants are a middle state in
this process, i.e., the orderings should follow locals > seled > new
or locals < seled < new, and we should observe that the features
of new migrants move towards seled migrants in week 3 and
week 4. Some features indeed show consistent trajectories with this
ideal integration process, including fraction of same-sex contacts,
fraction of local contacts, call duration, duration variance, and
average moving distance. It makes sense that migrants are probably
never going to match locals in fraction of local contacts, but such
matching may happen in average moving distance and call duration.

However, for the majority of features, we observe that although
new migrants initially move towards locals, they may eventually
become further away from locals aer seling down. ese features
include degree, weighted degree, average degree of neighbors, clus-
tering coecient, fraction of friends with similar age, fraction of
reciprocal calls, max radius, average radius, total moving distance.
In particular, all features in ego-network characteristics follow this
trajectory, suggesting that new migrants eventually build quite
dierent communication networks from locals.

It is rare that new migrants do no move towards locals at all but
become more dierent from locals in the integration process. is



new migrants move towards seled migrants and both move towards locals

week 1 week 2 week 3 week 4
0.40

0.45

0.50

0.55

0.60

0.65

locals

settled migrants

new migrants

(a) Same-sex.
week 1 week 2 week 3 week 4

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

(b) Local.
week 1 week 2 week 3 week 4

400

600

800

1000

1200

1400

1600

(c) Call duration (in seconds).
week 1 week 2 week 3 week 4

2.1

2.2

2.3

2.4

2.5

2.6

2.7

2.8

2.9

(d) Average moving distance.

new migrants move towards locals initially, but will likely eventually move away from locals

week 1 week 2 week 3 week 4
0

5

10

15

20

25

30

35
locals

settled migrants

new migrants

(e) Degree.
week 1 week 2 week 3 week 4

0.03

0.04

0.05

0.06

(f) Clustering coecient.
week 1 week 2 week 3 week 4

0.20

0.21

0.22

0.23

0.24

0.25

0.26

(g) Reciprocal calls.
week 1 week 2 week 3 week 4
6

7

8

9

10

11

12

13

14

(h) Max radius.

new migrants move towards seled migrants but away from locals

week 1 week 2 week 3 week 4
1.05

1.10

1.15

1.20

1.25

1.30

1.35

1.40

locals

settled migrants

new migrants

(i) Province diversity.
week 1 week 2 week 3 week 4

0.0

0.1

0.2

0.3

0.4

(j) Fraction of townsmen.

Figure 3: Integration process of new migrants. Each gure presents how the values of a feature evolves over the four weeks
for locals, settled migrants, and newmigrants. We choose four samples in the rst two rows because there are more than four
features that belong to those categories. Error bars represent standard errors.

only happens in province diversity and townsmen.4 Both point to
the fact that new migrants start with a more diverse communication
network in terms of birthplaces than locals, and their networks get
even more diverse over their stay in Shanghai. Note that there is a
decline in province diversity for new migrants in week 4 but they
are still closer to seled migrants than to locals.

Interestingly, in some features, we observe that the integration
slows down or converges in week 4 for new migrants. is is
likely due to the fact that not all new migrants are going to become
seled migrants. As a result, we can already see that the integration
process stops or slows down in week 4 for a subset of these people.
In addition to these summary statistics, geographically, we also
observe that the centers of new migrants are expanding over time,
as shown in Figure 4.
Discussion. Overall, we nd that new migrants are seling down
and gradually becoming seled migrants, and this observation is
robust with potential generation gaps. However, in a substantial
fraction of the features, although new migrants are temporarily

4It is tricky for townsmen, since locals do not have townsmen that are not from
Shanghai and always have 0 in this feature.

moving towards locals, they are probably going to become dierent
from locals as seled migrants do. In other words, despite seling
down, seled migrants remain fairly dierent from locals.

5 DIFFICULTY OF DISTINGUISHING
MIGRANTS

We set up two prediction tasks to assess the diculty of distin-
guishing migrants from locals with the features that we propose.
Since the number of new migrants is much smaller compared to
seled migrants and locals (22K vs. 1.0M and 1.7M), we employ two
formulations in this section. First, we propose a binary classica-
tion task to distinguish seled migrants from locals. We then apply
this binary classier to new migrants to evaluate how oen a new
migrant would be mistakenly thought of as a local by our classier.
is misclassication rate can reect how well new migrants have
integrated, at least in terms of fooling our classier. Second, we
work on the more challenging three-way classication problem to
identify new migrants, seled migrants, and locals.

Experiment setup. In both prediction tasks, each instance con-
sists of features based on a user’s calling logs within a particular



-0.5-0.25 0 0.25 0.5 0.75 1

(a) Week 2.

-0.5-0.25 0 0.25 0.5 0.75 1

(b) Week 3.

-0.5-0.25 0 0.25 0.5 0.75 1

(c) Week 4.

Figure 4: Evolution of geographical distributions from week 2 to week 4 for new migrants. e computation procedure is the
same as Figure 1 and each gure shows the log odds ratio compared to the overall average in each week. New migrants are
slowly expanding into larger parts of the city.

Precision Recall F1
0.0

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9
All

-G

-GD

-GDE

(a) Prediction performance in distinguishing seled migrants from locals.

week 2 week 3 week 4
13%

14%

15%

Settled migrants

New migrants

(b) Fraction of new migrants or seled mi-
grants classied as locals.

week 2 week 3 week 4
0.0

0.1

0.2

0.3

0.4

0.5

0.6

0.7

0.8

0.9

F1

Locals

Settled migrants

New migrants

(c) Performance of three-way classication.

Figure 5: Performance of distinguishingmigrants. Figure 5(a) and Figure 5(b) are results from the binary classication between
settled migrants and locals. Figure 5(a) shows the performance of feature ablation (we show the feature class that is the most
inuential in each ablation step), while Figure 5(b) shows the fraction of settledmigrants and newmigrants that is mistakenly
classied as locals over time. Figure 5(c) shows the F1 scores in the three-way classication problem over time.

week. We randomly draw 50% of users and use their calling logs in
week 2 to train the classier. We use the remaining data to test the
classier (50% of data in week 2, and 100% of data in week 3 and
week 4). Based on the calling logs of a given user, we extract all fea-
tures listed in Table 1 except “townsmen”, as measuring the fraction
of townsmen relies on the user’s label (the user’s birthplace). We
use precision, recall, and F1-score for evaluation, with the minority
class (i.e., migrants) as the target class. For the classier, we use
`2-regularized logistic regression. We choose the best `2 penalty
coecient using 5-fold cross-validation in training data.

5.1 Settled Migrants vs. Locals (Binary
Classication)

Prediction performance (Figure 5(a)). It turns out to be rel-
atively easy to distinguish seled migrants from locals. We can
achieve an F1-score of 0.82 with all the features that we propose.

We further analyze the contribution of each type of features by
removing them one by one. In the rst removal step, we nd that
geographical features were the most inuential feature set, i.e., F1
drops the most (0.11) if we remove geographical features (-G in
Figure 5(a)). Demographics is the most important in the second
step (-GD in Figure 5(a)). In the third step, removing ego-network
features is the choice, leaving us with a classier that only uses call
behavior (-GDE in Figure 5(a)). F1 drops almost 50% to 0.43 aer
removing these three types of features. In addition, the prediction
performance of the binary classier is robust over time: F1-scores
on each week vary lile (<0.0007).5

Integration of new migrants (Figure 5(b)). One way to evalu-
ate the integration of new migrants is to measure how oen this
binary classier would mistakenly classify a new migrant as a lo-
cal. We present the fraction of misclassied locals among seled

5We do not show the plot in the interest of space.



migrants as a comparison point. Overall, seled migrants are more
likely to be misclassied as locals than new migrants (e.g., 15.2%
vs 13.6% in week 2). However, we observe an increasing trend for
new migrants over the three weeks. In week 3, the misclassied
fraction of new migrants increases to 14.4%, suggesting that they
become similar to locals over time. e growth slows down in week
4, which is consistent with our ndings in Section 4. To our sur-
prise, the faction of seled migrants misclassied as locals slightly
decreases over time. is suggests that some seled migrants could
have stopped integrating with locals aer seling down, but build
their own communities and keep their own lifestyles instead.

5.2 Identifying New Migrants (ree-way
Classication)

e three-way classication problem is challenging due to the rela-
tively small number of new migrants (about 0.8% of all instances).
e classier only achieves an F1-score of 0.1 on identifying new
migrants and this performance drops over time, while the perfor-
mance on seled migrants and locals remains similar to the binary
classication task (Figure 5(c)). We nd that more new migrants
are classied as seled migrants or locals incorrectly by the clas-
sier over time. is is consistent with the observation that new
migrants are becoming similar to seled migrants or locals in most
characteristics despite the short time span, while seled migrants
and locals tend to stay constant.

6 RELATEDWORK
e urbanization process poses signicant challenges for the society
that require eorts from various disciplines. We review relevant
studies in the following four aspects.
Migrant integration. Migrant integration is a well-recognized
research question in many disciplines, including anthropology, eco-
nomics, sociology and urban planning [9]. Most relevant to our
work is the study of urban migration [7, 8, 16, 18, 19, 41–43, 49].
In addition to the eect of nation-states and demographics (ethnic
groups, rural vs. urban) on urban migrant integration, Schiller
and Çauglar [41] argue that the role of migrants in the cities de-
pends on the rescaling of the cities themselves. Government policy
and agenda-seing also play an important role in the integration
process [43]. Beyond our scope, immigrants (migrants to a new
country) and refugees (a subgroup of immigrants) have also re-
ceived signicant interests [4, 5, 23, 44, 48].
Urban migrants in China. e unprecedented speed of devel-
opment and the huge population in China have sparked a baery
of studies on urban migrants in China [1, 10, 25, 31, 32, 47, 50–54].
ere are at least three perspectives as suggested in [25]: those of
the migrants themselves, of the urban employers, and of the gov-
ernment. Our work presents the perspective of migrants based on
their telecommunication paerns. It is worth noting that a central
topic in public policy regarding migrants in China is the impact of
the “hukou” system, a household registration system that limits the
benets and social welfare of migrants [1, 51, 52]. Finally, although
satisfying migrants’ needs is among the challenges that Bai et al.
[3] highlight in the Chinese government’s urbanization strategy,
lile aention is paid to the social integration of migrants.

Urban computing. Data-driven studies related to cities have
gained importance recently and led to a new term, urban computing
[1, 15, 21, 24, 38, 40, 55, 56]. ese studies combine heterogeneous
data sources, including location data, social media activity data,
mobile phone data and survey data, to propose metrics for city
development and potentially guide urban policies. For instance,
Zheng et al. [56] employ GPS data from taxicabs to evaluate trans-
portation system in Beijing, while De Nadai et al. [14] use mobile
phone data to extract human activity and propose metrics to mea-
sure urban diversity. Recently, Twier has also been used as a tool
for demographical studies in understanding the global mobility
paerns [15].
Temporal social networks and online communities. Our
work is also relevant to studies on the evolution of networks [22, 26,
29, 30, 35, 36, 46]. Using data from online social media, these studies
explore the connection between individual behavior and global
network properties. For instance, Viswanath et al. [46] nd that
links in the activity network tend to come and go rapidly over time,
and the strength of ties exhibits a general decreasing trend as the
social network link ages on Facebook. Leskovec et al. [29] develop
a triangle-closing model to explain network evolution. In addition,
studies have investigated the process of new user integration in
online communities [2, 12, 13, 27, 33, 45]. In particular, McAuley
and Leskovec [33] examine the process of how a new user becomes
an expert on review websites.

7 CONCLUDING DISCUSSIONS
We present the rst large-scale study on migrant integration based
on telecommunication metadata. We demonstrate the dierences
between locals, seled migrants, and new migrants, and show how
characteristics of a migrant’s communication network and geo-
graphical locations evolve in the integration process. For instance,
although migrants build connections with locals in the integration
process, townsmen become increasingly important in their net-
works. We also nd that migrants increase the size of their active
area and their moving distance in the city over time. Overall, in
most features, we are able to observe how new migrants gradually
become seled migrants, but that does not necessarily indicate that
they become more similar to locals.

We further formulate prediction problems to distinguish mi-
grants from locals. A classier based on the features that we pro-
pose can achieve a high F1-score on seled migrants, around 0.82.
is conrms that migrants are still fairly dierent from locals in
their behavior paerns, supporting studies on the segregation of
migrants. Meanwhile, we also observe that a larger fraction of new
migrants is classied as locals over time, partly documenting the
integration process.

Our work is limited by the data that we have access to. One
month is too short to capture the full integration process of migrants.
Also, people’s lives are much richer and more dynamic than what
we are able to capture using telecommunication metadata. Job
situations, health records, and daily interactions can all potentially
oer us a more in-depth understanding of migrant integration. In
addition, it is challenging to address the imbalance problem between
the three groups for realistic applications because new migrants
are the minority by denition. Last but not least, although China



Telecom is a major service provider and Shanghai is an important
global city, the selection bias presented in our data may limit the
generalizability of our ndings.

As urbanization is happening at an unprecedented rate and data
collection becomes ubiquitous in smart cities, there are tremendous
opportunities for data-driven approaches to understanding and
improving migrant integration. For instance, it would be useful to
identify migrants that have trouble ing into the city and provide
timely and useful support. We hope that our study can encourage
more researchers in our community to examine this problem from
dierent perspectives and eventually lead to methodologies and
applications that benet policymaking and millions of migrants.

REFERENCES
[1] Farzana Afridi, Sherry Xin Li, and Yufei Ren. 2015. Social identity and inequality:

e impact of China’s hukou system. Journal of Public Economics 123 (2015),
17–29.

[2] Lars Backstrom, Dan Huenlocher, Jon Kleinberg, and Xiangyang Lan. 2006.
Group Formation in Large Social Networks: Membership, Growth, and Evolution.
In Proceedings of KDD.

[3] Xuemei Bai, Peijun Shi, and Yansui and Liu. 2014. Society: Realizing China’s
urban dream. Nature News 509, 7499 (2014), 158.

[4] Frank D Bean and Gillian Stevens. 2003. America’s Newcomers and the Dynamics
of Diversity. Russell Sage Foundation.

[5] Gary S Becker and Diane Coyle. 2011. e challenge of immigration: a radical
solution. Institute of Economic Aairs Monographs Occasional Paper 145 (2011).

[6] Donatien Beguy, Philippe Bocquier, and Eliya Msiyaphazi Zulu. 2010. Circular
migration paerns and determinants in Nairobi slum selements. Demographic
Research 23 (2010), 549.

[7] Martin Brockerho. 1995. Child survival in big cities: the disadvantages of
migrants. Social Science & Medicine 40, 10 (1995), 1371–1383.

[8] Lawrence A Brown and Eric G Moore. 1970. e intra-urban migration process: a
perspective. Geograska Annaler. Series B, Human Geography 52, 1 (1970), 1–13.

[9] Stephen Castles, Hein De Haas, and Mark J Miller. 2013. e age of migration:
International population movements in the modern world. Palgrave Macmillan.

[10] Juan Chen, Deborah S. Davis, Kaming Wu, and Haijing Dai. 2015. Life satisfaction
in urbanizing China: e eect of city size and pathways to urban residency.
Cities 49 (2015), 88–97.

[11] Barry R Chiswick and Noyna DebBurman. 2004. Educational aainment: analysis
by immigrant generation. Economics of Education Review 23, 4 (2004), 361–379.

[12] David Crandall, Dan Cosley, Daniel Huenlocher, Jon Kleinberg, and Siddharth
Suri. 2008. Feedback Eects Between Similarity and Social Inuence in Online
Communities. In Proceedings of KDD.

[13] Cristian Danescu-Niculescu-Mizil, Robert West, Dan Jurafsky, Jure Leskovec,
and Christopher Pos. 2013. No Country for Old Members: User Lifecycle and
Linguistic Change in Online Communities. In Proceedings of WWW.

[14] Marco De Nadai, Jacopo Staiano, Roberto Larcher, Nicu Sebe, Daniele ercia,
and Bruno Lepri. 2016. e death and life of great Italian cities: a mobile phone
data perspective. In Proceedings of WWW.

[15] Mark Dredze, Manuel Garcı́a-Herranz, Alex Rutherford, and Gideon Mann.
2016. Twier as a Source of Global Mobility Paerns for Social Good. CoRR
abs/1606.06343 (2016).

[16] Claude S Fischer. 1982. To dwell among friends : personal networks in town and
city. University of Chicago Press, Chicago.

[17] William H Frey. 1979. Central city white ight: Racial and nonracial causes.
American Sociological Review (1979), 425–448.

[18] Edward L Glaeser and David C Mare. 2001. Cities and skills. Journal of labor
economics 19, 2 (2001), 316–342.

[19] Charloe Goodburn. 2009. Learning from migrant education: A case study
of the schooling of rural migrant children in Beijing. International Journal of
Educational Development 29, 5 (2009), 495–504.

[20] Douglas T Gurak and Fee Caces. 1992. Migration networks and the shaping of
migration systems. International migration systems: A global approach (1992),
150–176.

[21] Desislava Hristova, Mahew J Williams, Mirco Musolesi, Pietro Panzarasa, and
Cecilia Mascolo. 2016. Measuring Urban Social Diversity Using Interconnected
Geo-Social Networks. In Proceedings of WWW.

[22] Abigail Z Jacobs, Samuel F Way, Johan Ugander, and Aaron Clauset. 2015. Assem-
bling efacebook: Using Heterogeneity to Understand Online Social Network
Assembly. In Proceedings of Web Science.

[23] Karen Jacobsen and Loren B Landau. 2003. e dual imperative in refugee re-
search: some methodological and ethical considerations in social science research
on forced migration. Disasters 27, 3 (2003), 185–206.

[24] Shan Jiang, Gaston A Fiore, Yingxiang Yang, Joseph Ferreira Jr, Emilio Frazzoli,
and Marta C Gonzlez. 2013. A review of urban computing for mobile phone
traces: current methods, challenges and opportunities. In Proceedings of the 2nd
ACM SIGKDD international workshop on Urban Computing.

[25] John Knight, Lina Song, and Jia Huaibin. 1999. Chinese rural migrants in urban
enterprises: three perspectives. e Journal of Development Studies 35, 3 (1999),
73–104.

[26] Gueorgi Kossinets and Duncan J Was. 2006. Empirical analysis of an evolving
social network. Science 311, 5757 (2006), 88–90.

[27] Cli Lampe and Erik Johnston. 2005. Follow the (slash) dot: eects of feedback
on new members in an online community. In Proceedings of GROUP.

[28] June J.H. Lee. 2015. World migration report 2015: Migrants and Cities: New
Partnerships to manage mobility.

[29] Jure Leskovec, Lars Backstrom, Ravi Kumar, and Andrew Tomkins. 2008. Micro-
scopic Evolution of Social Networks. In Proceedings of KDD.

[30] Jure Leskovec, Jon Kleinberg, and Christos Faloutsos. 2007. Graph evolution:
Densication and shrinking diameters. ACMTransactions on Knowledge Discovery
from Data (TKDD) 1, 1 (2007), 2.

[31] Zai Liang. 2001. e age of migration in China. Population and development
review 27, 3 (2001), 499–524.

[32] Ye Liu, Zhigang Li, and Werner Breitung. 2012. e social networks of new-
generation migrants in Chinas urbanized villages: A case study of Guangzhou.
Habitat International 36, 1 (2012), 192–200.

[33] Julian John McAuley and Jure Leskovec. 2013. From Amateurs to Connoisseurs:
Modeling the Evolution of User Expertise rough Online Reviews. In Proceedings
of WWW.

[34] Miller McPherson, Lynn Smith-Lovin, and James M Cook. 2001. Birds of a feather:
Homophily in social networks. Annual review of sociology 27, 1 (2001), 415–444.

[35] Ron Milo, Shalev Itzkovitz, Nadav Kashtan, Reuven Levi, Shai Shen-Orr, Inbal
Ayzenshtat, Michal Sheer, and Uri Alon. 2004. Superfamilies of evolved and
designed networks. Science 303, 5663 (2004), 1538–1542.

[36] Ashwin Paranjape, Austin R Benson, and Jure Leskovec. 2017. Motifs in Temporal
Networks. In Proceedings of WSDM.

[37] Alejandro Portes and Lingxin Hao. 2002. e price of uniformity: Language,
family and personality adjustment in the immigrant second generation. Ethnic
and Racial Studies 25, 6 (2002), 889–912.

[38] Daniele ercia, Luca Maria Aiello, Rossano Schifanella, and Adam Davies. 2015.
e Digital Life of Walkable Streets. In Proceedings of WWW.

[39] Shahra Razavi and Silke Staab. 2010. Underpaid and overworked: A cross-
national perspective on care workers. International Labour Review 149, 4 (2010),
407–422.

[40] Jonathan Reades, Francesco Calabrese, Andres Sevtsuk, and Carlo Rai. 2007.
Cellular census: Explorations in urban data collection. IEEE Pervasive Computing
6, 3 (2007).

[41] Nina Glick Schiller and Ayse Çauglar. 2009. Towards a comparative theory of
locality in migration studies: Migrant incorporation and city scale. Journal of
ethnic and migration studies 35, 2 (2009), 177–202.

[42] Nina Glick Schiller and Ayse Simsek-Caglar. 2011. Locating migration: Rescaling
cities and migrants. Cornell University Press.

[43] Peter WA Scholten. 2013. Agenda dynamics and the multi-level governance of
intractable policy controversies: the case of migrant integration policies in the
Netherlands. Policy Sciences 46, 3 (2013), 217–236.

[44] Alison Strang and Alastair Ager. 2010. Refugee integration: Emerging trends
and remaining agendas. Journal of Refugee Studies 23, 4 (2010), 589–607.

[45] Chenhao Tan and Lillian Lee. 2015. All who wander: On the prevalence and
characteristics of multi-community engagement. In Proceedings of WWW.

[46] Bimal Viswanath, Alan Mislove, Meeyoung Cha, and Krishna P Gummadi. 2009.
On the Evolution of User Interaction in Facebook. In Proceedings of the 2nd ACM
Workshop on Online Social Networks.

[47] Feng Wang and Xuejin Zuo. 1999. Inside China’s cities: Institutional barriers and
opportunities for urban migrants. e American Economic Review 89, 2 (1999),
276–280.

[48] Mary C Waters and Toms R Jimnez. 2005. Assessing immigrant assimilation:
New empirical and theoretical challenges. Annu. Rev. Sociol. 31 (2005), 105–125.

[49] Carolyn Whitzman. 2006. At the intersection of invisibilities: Canadian women,
homelessness and health outside the ‘big city’. Gender, Place & Culture 13, 4
(2006), 383–399.

[50] Weiping Wu. 2004. Sources of migrant housing disadvantage in urban China.
Environment and Planning A 36, 7 (2004), 1285–1304.

[51] Xiaogang Wu and Donald J Treiman. 2004. e household registration system
and social stratication in China: 1955–1996. Demography 41, 2 (2004), 363–384.

[52] Xiaogang Wu and Donald J Treiman. 2007. Inequality and equality under Chi-
nese socialism: e hukou system and intergenerational occupational mobility.
American Journal of Sociology 113, 2 (2007), 415–445.

[53] Zhongshan Yue, Shuzhuo Li, Xiaoyi Jin, and Marcus W Feldman. 2013. e
role of social networks in the integration of Chinese rural–urban migrants: A
migrant–resident tie perspective. Urban Studies 50, 9 (2013), 1704–1723.



[54] Kevin Honglin Zhang and Shunfeng Song. 2003. Rural-urban migration and
urbanization in China: Evidence from time-series and cross-section analyses.
China Economic Review 14, 4 (2003), 386–400.

[55] Yu Zheng, Licia Capra, Ouri Wolfson, and Hai Yang. 2014. Urban Computing:
Concepts, Methodologies, and Applications. ACM Transactions of Intelligent
System and Technology 5, 3 (2014), 38:1–38:55.

[56] Yu Zheng, Yanchi Liu, Jing Yuan, and Xing Xie. 2011. Urban computing with
taxicabs. In Proceedings of UbiComp.


	Abstract
	1 Introduction
	2 Experimental Setup
	2.1 Dataset
	2.2 Framework

	3 Locals, Settled migrants, New migrants
	4 Integration of New Migrants
	5 Difficulty of Distinguishing Migrants
	5.1 Settled Migrants vs. Locals (Binary Classification)
	5.2 Identifying New Migrants (Three-way Classification)

	6 Related Work
	7 Concluding discussions
	References



